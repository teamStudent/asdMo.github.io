require=function e(t,s,o){function i(c,l){if(!s[c]){if(!t[c]){var a="function"==typeof require&&require;if(!l&&a)return a(c,!0);if(r)return r(c,!0);var n=new Error("Cannot find module '"+c+"'");throw n.code="MODULE_NOT_FOUND",n}var h=s[c]={exports:{}};t[c][0].call(h.exports,function(e){var s=t[c][1][e];return i(s?s:e)},h,h.exports,e,t,s,o)}return s[c].exports}for(var r="function"==typeof require&&require,c=0;c<o.length;c++)i(o[c]);return i}({Audio:[function(require,module,exports){"use strict";cc._RFpush(module,"038derziClJuJ6k/J01DgNf","Audio"),cc.Class({"extends":cc.Component,properties:{bgm:cc.Node,sfx_addScore:cc.AudioClip,sfx_attackBoss1:cc.AudioClip,sfx_attackBoss2:cc.AudioClip,sfx_attackMiss:cc.AudioClip,sfx_attack:cc.AudioClip,sfx_boom:cc.AudioClip,sfx_click:cc.AudioClip,sfx_close:cc.AudioClip,sfx_dida:cc.AudioClip,sfx_ding:cc.AudioClip,sfx_fall:cc.AudioClip,sfx_good:cc.AudioClip,sfx_hebing:cc.AudioClip,sfx_jiguang:cc.AudioClip,sfx_moveTurret:cc.AudioClip,sfx_nice:cc.AudioClip,sfx_sava:cc.AudioClip,sfx_shuipao:cc.AudioClip,sfx_win:cc.AudioClip,sfx_yeah:cc.AudioClip},onLoad:function(){this.audioPool=[]},playEffect:function playEffect(name){if("false"!=ls.getItem(wl.effectStatus)){if(cc.sys.isNative){var str=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","getModel","()Ljava/lang/String;");if(str=""+str,"1505-A01"==str)return;if("1503-M02"==str)return}try{var clip=eval("this.sfx_"+name);clip&&this._playSFX(clip)}catch(e){}}},_playSFX:function(e){var t=cc.audioEngine.play(e,!1);this.audioPool.push(t)},update:function(){for(var e=0;e<this.audioPool.length;e++){var t=this.audioPool[e],s=cc.audioEngine.getState(t);s<0&&(this.audioPool.splice(e,1),e--)}},playMusic:function(){"true"==ls.getItem(wl.musicStatus)&&(this.stopAll(),cc.audioEngine.play(this.bgm,!0,.3))},playbgm:function(){if("true"==ls.getItem(wl.musicStatus)){var e=this.bgm.getComponent(cc.AudioSource);e.stop(),e.play()}},stopbgm:function(){var e=this.bgm.getComponent(cc.AudioSource);e.stop()},pauseMusic:function(){cc.audioEngine.pauseMusic()},resumeMusic:function(){cc.audioEngine.resumeMusic()},stopAll:function(){cc.audioEngine.stopAll()},pauseAll:function(){cc.audioEngine.pauseAll()},resumeAll:function(){cc.audioEngine.resumeAll()}}),cc._RFpop()},{}],Base:[function(e,t,s){"use strict";cc._RFpush(t,"9c0f3WlRy9ID64V/CIy81oh","Base"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},setInteractable:function(e,t){e.getComponent(cc.Button).interactable=t},isInteractable:function(e){return e.getComponent(cc.Button).interactable}}),cc._RFpop()},{}],Buy:[function(e,t,s){"use strict";cc._RFpush(t,"14152O+SPtB5LHv4Z+N+DXK","Buy"),cc.Class({"extends":cc.Component,properties:{gameLayer:cc.Canvas,lbNumArr:[cc.Label],lbPriceArr:[cc.Label],needjewel:cc.Node,game:cc.Canvas},onLoad:function(){this.gameScript=this.game.getComponent("Game"),cc.log("buy");for(var e=0;e<this.lbPriceArr.length;e++)this.lbPriceArr[e].string=wl.price[e],this.lbNumArr[e].string="X0";this.p1Num=0,this.p2Num=0,this.p3Num=0},btnCallOk:function(e){wl.setBtnCooling(e.target),audio.playEffect(audioType.click);var t=wl.getItemInt(wl.jewelTotal),s=wl.getItemInt(wl.p1Num)+this.p1Num;return ls.setItem(wl.p1Num,s),t-=this.p1Num*wl.price[0],s=wl.getItemInt(wl.p2Num)+this.p2Num,ls.setItem(wl.p2Num,s),t-=this.p2Num*wl.price[1],s=wl.getItemInt(wl.p3Num)+this.p3Num,ls.setItem(wl.p3Num,s),t-=this.p3Num*wl.price[2],t<0?(this.needjewel.active=!0,this.needjewel.setOpacity(255),this.needjewel.stopAllActions(),void this.needjewel.runAction(cc.sequence(cc.delayTime(2),cc.fadeOut(.5,0),cc.callFunc(function(){this.needjewel.active=!1}.bind(this))))):(ls.setItem(wl.jewelTotal,t),this.gameLayer.getComponent("Game").updatePropNum(),void this.clear())},btnCallClose:function(e){wl.setBtnCooling(e.target),audio.playEffect(audioType.click),this.clear()},clear:function(){this.p1Num=0,this.p2Num=0,this.p3Num=0;for(var e=0;e<this.lbNumArr.length;e++)this.lbNumArr[e].string="X0";1==wl.gameStatus&&this.gameScript.timeLevel(),wl.close(this.node)},btnCallPayProp1:function(e){this.p1Num++,this.lbNumArr[0].string="X"+this.p1Num},btnCallPayProp2:function(e){this.p2Num++,this.lbNumArr[1].string="X"+this.p2Num},btnCallPayProp3:function(e){this.p3Num++,this.lbNumArr[2].string="X"+this.p3Num}}),cc._RFpop()},{}],Candy:[function(e,t,s){"use strict";cc._RFpush(t,"f599776oR1NY5DeYyadhQm0","Candy"),cc.Class({"extends":cc.Component,properties:{candyType:[cc.SpriteFrame]},init:function(e,t,s,o){this.node.type=e,this.node.row=t,this.node.col=s,this.node.shield=o,this.node.getComponent(cc.Sprite).spriteFrame=this.candyType[e],this.node.isCrushing=!1,this.node.isMerge=!1,this.node.isAttack=!1,this.node.isSelfBoom=!1,this.node.life=0,this.node.wound=0,this.node.die=0,this.node.num=1,this.node.isBoom=!1,5==e&&(this.node.life=2),1==o&&(1==e||2==e||3==e)?this.node.getChildByName("shield").active=!0:this.shield=0}}),cc._RFpop()},{}],Fail:[function(e,t,s){"use strict";cc._RFpush(t,"eff3bKfd3pPA60YsYNsbVCb","Fail"),cc.Class({"extends":cc.Component,properties:{btnStep:cc.Node,btnTime:cc.Node,game:cc.Canvas},onLoad:function(){this.gameScript=this.game.getComponent("Game"),0==wl.gameStatus?this.btnStep.active=!0:this.btnTime.active=!0},onEnable:function(){sdk.showWindowAd()},btnCallMenu:function(e){wl.setBtnCooling(e.target),audio.playEffect(audioType.close),cc.director.loadScene("stage")},btnCallStep:function(e){this.gotoGame(10)},btnCallTime:function(e){wl.setBtnCooling(e.target),audio.playEffect(audioType.click),this.gotoGame(26),this.gameScript.timeLevel()},gotoGame:function(e){this.gameScript.stepNumber+=e,this.gameScript.laStep.string=this.gameScript.stepNumber;var t=wl.getItemInt(wl.jewelTotal)-5;t>=0&&ls.setItem(wl.jewelTotal,t),this.gameScript.node.getChildByName("swallowLayer").zIndex=-1,this.gameScript.delayCheckWinOrFail(),wl.close(this.node)},btnCallAgain:function(e){wl.setBtnCooling(e.target),audio.playEffect(audioType.click),wl.close(this.node),cc.director.loadScene("game")}}),cc._RFpop()},{}],Game:[function(require,module,exports){"use strict";cc._RFpush(module,"a4e5b3etFJK+KDH0+jvg6h2","Game"),cc.Class({"extends":require("SceneBase"),properties:{laJewel:cc.Label,laScore:cc.Label,laStep:cc.Label,laLevel:cc.Label,laAddScore:cc.Node,propLayer:cc.Node,taskLayer:cc.Node,boss:cc.Node,block:cc.Node,candy:cc.Node,bullet:cc.Node,turret:cc.Node,task:cc.Node,hand:cc.Node,shieldFrame:cc.SpriteFrame,boomFrame:cc.SpriteFrame,progressBar:cc.ProgressBar,btnProp:cc.Node,propArr:[cc.Node],bottleArr:[cc.Node],turretPos:[cc.Node],bulletType:[cc.SpriteFrame],redTurretType:[cc.SpriteFrame],blueTurretType:[cc.SpriteFrame],greenTurretType:[cc.SpriteFrame],taskType:[cc.SpriteFrame],stoneType:[cc.SpriteFrame],_isHavaBoss:!1},onLoad:function(){this._super(),this.init()},initProperties:function(){this.isShowPropLayer=!1,this.leftDownPos=cc.p(0,0),this.candyArray=[],this.crushCandy_Array=[],this.newCandy_Array=[],this.turretArray=[],this.bulletArray=[],this.boomArray=[],this.oldIndex=null,this.selectedTurret=null,this.swapTurret=null,this.score=0,this.curScore=0,wl.gameStatus=0,wl.levelScore=0,this.isSave=!1,this.winCount=0,this.stageData=null,this.scoreNumber=0,this.redNumber=0,this.blueNumber=0,this.greenNumber=0,this.bossNumber=0,this.stoneNumber=0,this.stepNumber=0,this.percent=0,this.curPercent=0,this.redPercent=0,this.bluePercent=0,this.greenPercent=0,this.curRedPercent=0,this.curBluePercent=0,this.curGreenPercent=0,this.prop1Pos=cc.p(0,0),this.propOffsetY=0,this.handStep=0,this.isClickYes=!1,this.isAttackBoss=!1,this.isSavaBottle=!1,this.isBossDie=!1,this.isUseProp1=!1},update:function(e){this.curPercent<this.percent&&(this.curPercent+=.005,this.progressBar.progress=this.curPercent),this.curScore<this.score&&(this.curScore+=10,this.laScore.string=this.curScore),this.laJewel.string=ls.getItem(wl.jewelTotal),this.curRedPercent<this.redPercent&&(this.curRedPercent+=.005,this.bottleArr[0].getComponent(cc.ProgressBar).progress=this.curRedPercent),this.curBluePercent<this.bluePercent&&(this.curBluePercent+=.005,this.bottleArr[1].getComponent(cc.ProgressBar).progress=this.curBluePercent),this.curGreenPercent<this.greenPercent&&(this.curGreenPercent+=.005,this.bottleArr[2].getComponent(cc.ProgressBar).progress=this.curGreenPercent)},setLyaerZindex:function(){this.node.getChildByName("pauseLayer").zIndex=10,this.node.getChildByName("storeLayer").zIndex=10,this.node.getChildByName("buyLayer").zIndex=10,this.node.getChildByName("winLayer").zIndex=10,this.node.getChildByName("failLayer").zIndex=10,this.node.getChildByName("uiLayer").zIndex=3,this.node.getChildByName("propLayer").zIndex=2,this.node.getChildByName("win").zIndex=6;var e=this.propArr[0];this.prop1Pos=e.position,e.on("touchstart",this.prop1TouchStart,this),e.on("touchmove",this.prop1TouchMove,this),e.on("touchend",this.prop1TouchEnd,this),e.on("touchcancel",this.prop1TouchCancel,this)},addEventListener:function(){this.touchListener=cc.EventListener.create({event:cc.EventListener.TOUCH_ONE_BY_ONE,swallowTouches:!1,onTouchBegan:this.touchBegan.bind(this)}),cc.eventManager.addListener(this.touchListener,this.node.getChildByName("uiLayer"))},touchBegan:function(e,t){var s=e.getLocation();return s=cc.pSub(s,cc.p(size.width/2,size.height/2)),wl.log("p:"+s.x,s.y),!1},initData:function(){if(wl.lv>=7?ls.setItem(wl.isUserProp,1):ls.setItem(wl.isUserProp,0),wl.lv>=9&&ls.setItem(wl.isUserProp,2),wl.lv>=13&&ls.setItem(wl.isUserProp,3),1==wl.lv?ls.setItem(wl.isGuide_1,"true"):ls.setItem(wl.isGuide_1,"false"),4==wl.lv&&0==wl.getItemInt(wl.isGuide_4)&&ls.setItem(wl.isGuide_4,1),7==wl.lv&&0==wl.getItemInt(wl.isGuide_7)&&ls.setItem(wl.isGuide_7,1),wl.lv>=8?ls.setItem(wl.isLockShield,"true"):ls.setItem(wl.isLockShield,"false"),wl.lv>=4){ls.setItem(wl.sava,"true");for(var e=0;e<this.bottleArr.length;e++)this.bottleArr[e].active=!0,this.bottleArr[e].tag=e}else ls.setItem(wl.sava,"false");var t=wl.getItemInt(wl.isUserProp);t>0?this.btnProp.active=!0:this.btnProp.active=!1;for(var e=0;e<this.propArr.length;e++){var s=e+1;t>0&&t>=s&&(this.propArr[e].active=!0,this.propArr[e].getChildByName("num").getComponent(cc.Label).string=ls.getItem("p"+s+"Num"))}},init:function(){this.initProperties(),this.setLyaerZindex(),this.updatePropNum(),wl.lv=wl.getItemInt(wl.curLevel),this.laScore.string=this.curScore,this.laLevel.string=wl.lv;var e=wl.lv-1;wl.levelData[e];this.candyArray=wl.matrix(wl.row,wl.col,null);var t=wl.leftBlank,s=.316875*size.height-wl.girdy-wl.blanky+27;wl.girdx*wl.col+wl.blankx*(wl.col-1),wl.girdy*wl.row+wl.blanky*(wl.row-1);this.leftDownPos=cc.p(t-size.width/2,s-size.height/2),this.initData(),this.loadTaskData(),this.loadMap(),this.loadTurret(),this.guide1(),7==wl.lv&&(this.hand.active=!0,this.hand.zIndex=6,this.guide7(1)),this.schedule(this.candyAnimation,2)},loadMap:function loadMap(){for(var level=0,i=0;i<wl.data.length;i++)if(wl.lv==wl.data[i]){level=wl.data[i];break}if(level>0)for(var a=0,num=0,stage=eval("wl.stage_"+level),i=stage.length-1;i>=0;i--){a%3==0?num=i-2:a%3==1?num=i:a%3==2&&(num=i+2),a++;var obj=stage[num],candy=cc.instantiate(this.candy);candy.parent=this.node,candy.zIndex=2,candy.getComponent("Candy").init(obj.type,wl.row,obj.col,obj.shield),this.setCandyPos(candy,candy.row,candy.col),this.newCandy_Array.push(candy)}else for(var i=0;i<wl.row;i++)for(var j=0;j<wl.col;j++){var get=this.getTypeAndShield(),candy=cc.instantiate(this.candy);candy.parent=this.node,candy.zIndex=2,candy.getComponent("Candy").init(get.type,wl.row,j,get.shield),this.setCandyPos(candy,candy.row,candy.col),this.newCandy_Array.push(candy)}this.refreshCandyGrid(),this.schedule(this.checkCandyRefreshing,.1)},setCandyPos:function(e,t,s){e.setPosition(wl.girdx/2+wl.blankx+s*wl.girdx+(s-1)*wl.blankx+this.leftDownPos.x,wl.girdy/2+wl.blanky+t*wl.girdy+(t-1)*wl.blanky+this.leftDownPos.y)},getTypeAndShield:function(){var e=0,t=0,s=999,o=999,i=999,r=wl.getRandomInt(1,3);return this.stageData.shield>0&&(t=wl.getRandomInt(0,this.stageData.shield)),this.stageData.boom>0&&(s=wl.getRandomInt(0,this.stageData.boom)),this.stageData.stone>0&&(o=wl.getRandomInt(0,this.stageData.stone)),this.stageData.color>0&&(i=wl.getRandomInt(0,this.stageData.color)),wl.lv>=6&&1==t&&(e=t),wl.lv>=7&&(0==s&&(r=0),0==o&&(r=5),0==i&&(r=4)),{type:r,shield:e}},candyTouchEnd:function(e){if(0==this.newCandy_Array.length){var t=e.target;this.crushCandy_Array.push(t),this.goClear(),this.schedule(this.checkCandyCrush,.1)}},goClear:function(){for(var e=0;e<this.crushCandy_Array.length;e++){var t=this.crushCandy_Array[e];wl.getRandomInt(1,3);if(1==t.isAttack)this.craterNewCandy(t,5);else if(1==t.isSelfBoom||0==t.type||4==t.type||5==t.type)this.craterNewCandy(t,6);else if(this.crushCandy_Array.length>=3)if(e%3==0){var s=this.crushCandy_Array[e+1],o=this.crushCandy_Array[e+2];if(s&&o)if(t.row==s.row&&t.row==o.row&&t.type==s.type&&t.type==o.type&&0==t.shield&&0==s.shield&&0==o.shield){var i=wl.getRandomInt(1,3);1==i?(t.num+=s.num+o.num,t.getChildByName("num").getComponent(cc.Label).string=t.num,t.isMerge=!1,this.craterNewCandy(s,1),this.craterNewCandy(o,1)):2==i?(s.num+=t.num+o.num,s.getChildByName("num").getComponent(cc.Label).string=s.num,s.isMerge=!1,this.craterNewCandy(t,2),this.craterNewCandy(o,2)):3==i&&(o.num+=t.num+s.num,o.getChildByName("num").getComponent(cc.Label).string=o.num,o.isMerge=!1,this.craterNewCandy(t,3),this.craterNewCandy(s,3)),e+=2}else this.craterNewCandy(t,4);else this.craterNewCandy(t,4)}else this.craterNewCandy(t,4);else this.craterNewCandy(t,4)}},craterNewCandy:function(e,t){var s=this.getTypeAndShield(),o=cc.instantiate(this.candy);o.parent=this.node,o.zIndex=2,o.getComponent("Candy").init(s.type,wl.row,e.col,s.shield),this.setCandyPos(o,o.row,o.col),this.newCandy_Array.push(o),this.candyArray[e.row][e.col]=null,this.destroyOldCandy(e,t)},destroyOldCandy:function(e,t){e.isCrushing=!0,0==e.isMerge&&0!=e.type&&4!=e.type&&5!=e.type&&this.scoreTask(e);var s=cc.callFunc(function(t){e.isCrushing=!1,!e.isSelfBoom&&0!=e.isAttack||0!=e.isMerge||this.candyTask(e),1==e.isAttack&&this.boss.active&&(0==this.isBossDie&&(this.boss.hp-=this.stageData.attack[this.bossNumber]*e.num/100),this.boss.hp<=0&&(this.boss.hp=0),1==this.isAttackBoss&&this.boss.hp>0&&(this.isAttackBoss=!1,audio.playEffect(audioType.attackBoss1)),this.bossUpdate()),this.checkTask(this.stageData.score,this.scoreNumber)&&this.checkTask(this.stageData.red,this.redNumber)&&this.checkTask(this.stageData.blue,this.blueNumber)&&this.checkTask(this.stageData.green,this.greenNumber)&&this.checkTask(this.stageData.boss,this.bossNumber)&&this.checkTask(this.stageData.sto,this.stoneNumber)&&(wl.log("任务完成"),this.node.getChildByName("swallowLayer").zIndex=6,1==wl.gameStatus&&this.node.getChildByName("time").stopAllActions()),wl.destroyNode(e)},this);if(e.getChildByName("num").active=!1,e.getComponent(cc.Animation).stop(),1==t)e.runAction(cc.sequence(cc.moveBy(wl.moveTime,-wl.girdx*e.col-wl.blankx*e.col,0),s));else if(2==t)0==e.col?e.runAction(cc.sequence(cc.moveBy(wl.moveTime,wl.girdx+wl.blankx,0),s)):e.runAction(cc.sequence(cc.moveBy(wl.moveTime,-wl.girdx-wl.blankx,0),s));else if(3==t){var o=Math.abs(e.col-2);e.runAction(cc.sequence(cc.moveBy(wl.moveTime,wl.girdx*o+wl.blankx*o,0),s))}else if(4==t)if("true"==ls.getItem(wl.sava))this.savaCandyToBottle(e,s);else switch(wl.getRandomInt(1,3)){case 1:e.runAction(cc.sequence(cc.fadeOut(.5),s));break;case 2:e.runAction(cc.sequence(cc.scaleTo(.5,0),s));break;case 3:e.runAction(cc.sequence(cc.rotateBy(.5,300),s))}else 5==t?(e.zIndex=6,e.runAction(cc.sequence(cc.moveTo(wl.getRandomFloat(.5,.6),this.boss.getPosition()),s))):6==t&&(5==e.type||0==e.type?(e.getComponent(cc.Animation).stop(),e.getComponent(cc.Animation).play("boom"),e.runAction(cc.sequence(cc.delayTime(.4),s))):e.runAction(cc.sequence(cc.scaleTo(.25,1.3),cc.scaleTo(.25,.5),s)))},savaCandyToBottle:function(e,t){this.isSavaBottle&&(this.isSavaBottle=!1,audio.playEffect(audioType.shuipao));var s=this.bottleArr[e.type-1],o=s.getChildByName("pzLight").getComponent(cc.Animation),i=!1;switch(e.type){case 1:this.curRedPercent>=1?i=!0:this.redPercent=s.getComponent(cc.ProgressBar).progress+.1*e.num*(e.die+1);break;case 2:this.curBluePercent>=1?i=!0:this.bluePercent=s.getComponent(cc.ProgressBar).progress+.1*e.num*(e.die+1);break;case 3:this.curGreenPercent>=1?i=!0:this.greenPercent=s.getComponent(cc.ProgressBar).progress+.1*e.num*(e.die+1)}i&&(s.getChildByName("pzLight").active=!0,o.stop(),o.play("bottle"),this.setInteractable(s,!0),this.guide4(s.position)),e.zIndex=6,e.runAction(cc.sequence(cc.moveTo(.5,s.getPosition()),cc.fadeOut(.2),t))},checkCandyCrush:function(e){for(var t in this.crushCandy_Array)if(this.crushCandy_Array[t].isCrushing)return;this.unschedule(this.checkCandyCrush),this.crushCandy_Array=[],this.refreshCandyGrid(),this.schedule(this.checkCandyRefreshing,.1)},refreshCandyGrid:function(){for(var e=0;e<wl.col;e++){for(var t=0,s=0;s<wl.row;s++){var o=this.candyArray[s][e];o||t++}t&&this.refreshCandyByNewPos(e)}},refreshCandyByNewPos:function(e){for(var t,s,o=0,i=0,r=0;r<wl.row;r++)t=this.candyArray[r][e],t?0!=o&&(t.row-=o,i=(t.row+1)*wl.moveTime,this.candyArray[t.row][t.col]=t,s=cc.moveBy(i,cc.p(0,-o*wl.girdy-o*wl.blanky)),t.runAction(s)):o++;for(var c=o,l=o,a=0;a<this.newCandy_Array.length;a++)if(t=this.newCandy_Array[a],l++,t.col==e){t.row-=c,i=(t.row+1)*wl.moveTime;var n=cc.p(0,-c--*wl.girdy-(c+1)*wl.blanky);s=cc.moveBy(i,n);var h=cc.callFunc(function(e){var t=e;this.candyArray[t.row][t.col]=t;var s=this.newCandy_Array.indexOf(t);this.newCandy_Array.splice(s,1)},this,t);t.runAction(cc.sequence(s,h))}},candyMerge:function(){for(var e,t,s=0,o=0;o<wl.row;o++)for(var i=0;i<wl.col-1;){for(s=1,e=this.candyArray[o][i],t=this.candyArray[o][i+1];e.type==t.type&&0==e.shield&&0==t.shield&&0!=e.type&&0!=t.type&&4!=e.type&&4!=t.type&&5!=e.type&&5!=t.type;){s++;var r=i+s;if(r>wl.col-1)break;t=this.candyArray[o][r]}if(s>=3){audio.playEffect(audioType.hebing);for(var c=0;c<s;c++){var l=this.candyArray[o][c];wl.contains(this.crushCandy_Array,l)||(l.isMerge=!0,this.crushCandy_Array.push(l))}}i+=s}return 0!=this.crushCandy_Array.length},checkCandyRefreshing:function(e){0==this.newCandy_Array.length&&(this.unschedule(this.checkCandyRefreshing),this.candyMerge()?(this.goClear(),this.schedule(this.checkCandyCrush,.1)):this.boomArray.length>0?this.boomFunc():this.checkWinOrFail())},candyAnimation:function(e){var t=wl.getRandomInt(0,3),s=wl.getRandomInt(0,2),o=this.candyArray[t][s];if(o)switch(o.type){case 1:o.getComponent(cc.Animation).play("red");break;case 2:o.getComponent(cc.Animation).play("blue");break;case 3:o.getComponent(cc.Animation).play("green")}},loadTurret:function(){for(var e=1;e<=3;e++){var t=cc.instantiate(this.turret);t.active=!0,t.parent=this.node,t.getComponent("Turret").init(e,0,e-1),t.position=this.turretPos[e-1].position,this.isAddTouchEvent(t,!0),this.turretArray.push(t)}},isAddTouchEvent:function(e,t){t?(e.on("touchstart",this.turretTouchStart,this),e.on("touchmove",this.turretTouchMove,this),e.on("touchend",this.turretTouchEnd,this),e.on("touchcancel",this.turretTouchCancel,this),wl.setInteractable(e,!0)):(e.off("touchstart",this.turretTouchStart,this),e.off("touchmove",this.turretTouchMove,this),e.off("touchend",this.turretTouchEnd,this),e.off("touchcancel",this.turretTouchCancel,this),wl.setInteractable(e,!1))},turretTouchStart:function(e){var t=e.target;if(0==this.bulletArray.length&&0==this.newCandy_Array.length&&t.isClick!==!1){for(var s=0;s<this.turretArray.length;s++)t.col!==s&&(this.turretArray[s].isClick=!1,wl.setInteractable(this.turretArray[s],!1),this.isAddTouchEvent(this.turretArray[s],!1));if(audio.playEffect(audioType.moveTurret),this.isSavaBottle=!0,t.getChildByName("shine").active=!0,t.zIndex=2,this.oldIndex=this.getTurretIndex(t),1==wl.lv&&"true"==ls.getItem(wl.isGuide_1)){var o=this.getTurretIndex(t);o==wl.guide[this.handStep]?(this.isClickYes=!0,this.hand.setOpacity(0),this.hand.stopAllActions()):this.isClickYes=!1}}},turretTouchMove:function(e){var t=e.target;if(0==this.bulletArray.length&&0==this.newCandy_Array.length&&t.isClick!==!1&&t.getChildByName("shine").active!==!1){var s=e.touch.getDelta();t.width/2;if(t.x>=this.turretPos[2].x)return void(t.x-=1);if(t.x<=this.turretPos[0].x)return void(t.x+=1);t.x+=s.x;var o=e.touch.getLocation();o=cc.pSub(o,cc.p(size.width/2,size.height/2)),cc.rectContainsPoint(t.getBoundingBox(),o)||(t.zIndex=0,5!=t.level&&(t.getChildByName("shine").getComponent(cc.Animation).stop(),t.getChildByName("shine").active=!1),t.position=this.turretPos[t.col].position,this.resetTurretPos(t,!0))}},turretTouchEnd:function(e){var t=e.target;if(t.zIndex=0,0==this.bulletArray.length&&0==this.newCandy_Array.length&&t.isClick!==!1&&t.getChildByName("shine").active!==!1){if(5!=t.level&&(t.getChildByName("shine").getComponent(cc.Animation).stop(),t.getChildByName("shine").active=!1),1==wl.lv&&"true"==ls.getItem(wl.isGuide_1)){var s=this.getTurretIndex(t);this.isClickYes&&s==wl.guide[this.handStep+1]?this.dropTurret(t):t.runAction(cc.moveTo(wl.moveTime,this.turretPos[this.oldIndex].position))}else this.dropTurret(t);this.resetTurretPos(t,!0)}},turretTouchCancel:function(e){var t=e.target;t.zIndex=0,5!=t.level&&(t.getChildByName("shine").getComponent(cc.Animation).stop(),t.getChildByName("shine").active=!1),t.position=this.turretPos[t.col].position,this.resetTurretPos(t,!0)},resetTurretPos:function(e,t){for(var s=0;s<this.turretArray.length;s++)e.col!==s&&(t?(this.turretArray[s].isClick=!0,wl.setInteractable(this.turretArray[s],!0),this.isAddTouchEvent(this.turretArray[s],!0)):this.turretArray[s].position=this.turretPos[s].position)},getTurretIndex:function(e){var t=Math.floor((e.x+size.width/2-wl.leftBlank)/(e.width+24));return t>=0&&t<=2?t:null},dropTurret:function(e){if(5!=e.level&&(e.getChildByName("shine").getComponent(cc.Animation).stop(),e.getChildByName("shine").active=!1),null!=this.oldIndex){var t=this.getTurretIndex(e);this.selectedTurret=e,this.swapTurret=this.turretArray[t],this.selectedTurret.isSwap=!0,this.swapTurret.isSwap=!0,this.swapTurret.zIndex=1;var s=cc.callFunc(function(e){e.isSwap=!1,e.zIndex=0},this);if(this.oldIndex==t)this.swapTurret.runAction(cc.sequence(cc.moveTo(wl.moveTime,this.turretPos[this.oldIndex].position),s)),this.swapTurret.isSwap=!1;else{var o=this.turretArray[this.selectedTurret.col];this.turretArray[this.selectedTurret.col]=this.turretArray[this.swapTurret.col],this.turretArray[this.swapTurret.col]=o;var i=this.selectedTurret.col;this.selectedTurret.col=this.swapTurret.col,this.swapTurret.col=i,this.selectedTurret.runAction(cc.sequence(cc.moveTo(wl.moveTime,this.turretPos[t].position),s)),this.swapTurret.runAction(cc.sequence(cc.moveTo(wl.moveTime,this.turretPos[this.oldIndex].position),s))}}else e.zIndex=0,5!=e.level&&(e.getChildByName("shine").getComponent(cc.Animation).stop(),e.getChildByName("shine").active=!1),e.position=this.turretPos[e.col].position,this.resetTurretPos(e,!1);this.oldIndex=null,"false"==ls.getItem(wl.isGuide_1)&&0==wl.gameStatus&&(this.stepNumber--,this.laStep.string=this.stepNumber),this.selectedTurret&&this.swapTurret&&0==this.bulletArray.length&&0==this.newCandy_Array.length&&(1==wl.lv&&(this.handStep+=2,this.hand.setOpacity(0)),audio.playEffect(audioType.attack),this.schedule(this.checkSwapAndShoot,.1))},checkSwapAndShoot:function(e){if(!this.selectedTurret.isSwap||!this.swapTurret.isSwap){this.unschedule(this.checkSwapAndShoot);for(var t=null,s=0;s<this.turretArray.length;s++){var o=this.turretArray[s];o.level>=5?(t=cc.instantiate(this.bullet),t.parent=this.node,t.getComponent(cc.Sprite).spriteFrame=this.bulletType[3],t.zIndex=3,t.type=5,t.level=o.level,t.col=o.col,t.setPosition(cc.pAdd(o.getPosition(),cc.p(0,t.height/2+o.height/2-10))),t.getComponent(cc.Animation).play("light")):(t=cc.instantiate(this.bullet),t.parent=this.node,t.getComponent(cc.Sprite).spriteFrame=this.bulletType[o.type-1],t.zIndex=1,t.type=o.type,t.level=o.level,t.col=o.col,t.setPosition(cc.pAdd(o.getPosition(),cc.p(0,o.height/2+5))),t.scale=.7,t.runAction(cc.moveBy(.1,cc.p(0,20)).repeatForever())),this.bulletArray.push(t)}this.scheduleOnce(function(e){this.schedule(this.checkCollision,.1)},.3)}},checkCollision:function(e){for(var t=null,s=0;s<wl.col;s++){var o=this.candyArray[0][s];if(o)for(var i=0;i<this.bulletArray.length;i++){var r=this.bulletArray[i];if(cc.rectIntersectsRect(o.getBoundingBox(),r.getBoundingBox())){if(r.level>=5){audio.playEffect(audioType.jiguang);for(var c=-1,l=0;l<wl.row;l++){var a=this.candyArray[l][r.col];if(a.die=1,!wl.contains(this.crushCandy_Array,a))if(0==a.type)a.isBoom=!0,this.boomArray.push(a);else if(4==a.type)c=a.col,this.crushCandy_Array.push(a);else if(5==a.type){if(a.life>0){a.life--,a.getComponent(cc.Sprite).spriteFrame=this.stoneType[a.life];break}this.crushCandy_Array.push(a)}else 1==a.shield?this.removeShield(a):this.crushCandy_Array.push(a)}c>=0?(t=this.turretArray[c],t.level=5,this.setTurretTexture(t)):(t=this.turretArray[r.col],t.level=1,this.setTurretTexture(t))}else if(audio.playEffect(audioType.attackMiss),0==o.type)o.isBoom=!0,this.boomArray.push(o);else if(4==o.type)t=this.turretArray[o.col],t.level=5,this.setTurretTexture(t),this.crushCandy_Array.push(o);else if(5==o.type);else if(1==o.shield)this.removeShield(o),t=this.turretArray[r.col],t.level=1,this.setTurretTexture(t);else if(o.type==r.type){wl.contains(this.crushCandy_Array,o)||this.crushCandy_Array.push(o);for(var n=0;n<this.turretArray.length;n++)t=this.turretArray[n],t.type==r.type&&(t=this.turretArray[r.col],t.level+=1,this.setTurretTexture(t))}else"true"==ls.getItem(wl.isLockShield)&&(o.wound++,o.wound>=3&&(o.wound=0,o.shield=1,o.getChildByName("shield").active=!0,o.getChildByName("shield").getComponent(cc.Animation).stop(),o.getChildByName("shield").getComponent(cc.Sprite).spriteFrame=this.shieldFrame)),t=this.turretArray[r.col],t.level=1,this.setTurretTexture(t);wl.destroyNode(r),this.bulletArray.splice(i,1)}}else wl.destroyNode(r),this.bulletArray.splice(i,1)}0==this.bulletArray.length&&(this.unschedule(this.checkCollision),this.goClear(),this.schedule(this.checkCandyCrush,.1))},setTurretTexture:function(e){5==e.level?(e.getChildByName("shine").active=!0,e.getChildByName("shine").getComponent(cc.Animation).stop(),e.getChildByName("shine").getComponent(cc.Animation).play("shine")):(e.getChildByName("shine").getComponent(cc.Animation).stop(),e.getChildByName("shine").active=!1),1==e.type?e.getComponent(cc.Sprite).spriteFrame=this.redTurretType[e.level-1]:2==e.type?e.getComponent(cc.Sprite).spriteFrame=this.blueTurretType[e.level-1]:3==e.type&&(e.getComponent(cc.Sprite).spriteFrame=this.greenTurretType[e.level-1])},removeShield:function(e){e.shield=0,e.getChildByName("shield").getComponent(cc.Animation).play("boom"),e.getChildByName("shield").runAction(cc.sequence(cc.delayTime(.4),cc.callFunc(function(e){e.active=!1},this)))},loadTaskData:function(){if(this.stageData=wl.levelData[wl.lv-1],this.scoreNumber=this.stageData.score,this.redNumber=this.stageData.red,this.blueNumber=this.stageData.blue,this.greenNumber=this.stageData.green,this.bossNumber=this.stageData.boss,this.stoneNumber=this.stageData.sto,this.stageData.stepNumber>0)this.stepNumber=this.stageData.stepNumber;else{wl.gameStatus=1,this.stepNumber=this.stageData.time;var e=new cc.Node("time");e.parent=this.node,this.timeLevel()}this.laStep.string=this.stepNumber,this.releaseTask(this.scoreNumber,0,"scoreNumber"),this.releaseTask(this.redNumber,1,"redNumber"),this.releaseTask(this.blueNumber,2,"blueNumber"),this.releaseTask(this.greenNumber,3,"greenNumber"),this.releaseTask(this.bossNumber,4,"bossNumber"),this.releaseTask(this.stoneNumber,5,"stoneNumber")},releaseTask:function(e,t,s){if(e>0){var o=cc.instantiate(this.task);o.parent=this.taskLayer,o.getComponent(cc.Sprite).spriteFrame=this.taskType[t],o.getChildByName("id").getComponent(cc.Label).string=e,o.x=-55,o.width=30,o.height=28,o.name=s,"bossNumber"==s&&(this.boss.active=!0,this.boss.hp=1,this.boss.isDie=!1,this.boss.runAction(cc.moveBy(1,-400,0)))}},delayCheckWinOrFail:function(){this.scheduleOnce(function(e){this.checkWinOrFail()},1.25)},checkWinOrFail:function(){this.checkTask(this.stageData.score,this.scoreNumber)&&this.checkTask(this.stageData.red,this.redNumber)&&this.checkTask(this.stageData.blue,this.blueNumber)&&this.checkTask(this.stageData.green,this.greenNumber)&&this.checkTask(this.stageData.boss,this.bossNumber)&&this.checkTask(this.stageData.sto,this.stoneNumber)?(wl.log("任务完成"),0==this.node.getChildByName("failLayer").active&&0==this.node.getChildByName("winLayer").active&&(this.node.getChildByName("swallowLayer").zIndex=6,this.node.getChildByName("win").active?this.stepNumber>0?this.shootLightBullet():this.doWin():(this.node.getChildByName("win").active=!0,audio.playEffect(audioType.nice),1==wl.gameStatus&&this.node.getChildByName("time").stopAllActions(),this.scheduleOnce(function(e){this.node.getChildByName("win").setOpacity(1),this.stepNumber>0?this.shootLightBullet():this.doWin()},2)))):this.stepNumber<=0?0==this.node.getChildByName("failLayer").active&&0==this.node.getChildByName("winLayer").active&&wl.show(this.node.getChildByName("failLayer")):this.moveHand()},checkTask:function(e,t){return e<=0||t<=0},boomFunc:function(){audio.playEffect(audioType.boom);for(var e=[],t=0;t<this.boomArray.length;t++)for(var s=this.boomArray[t],o=s.row,i=s.col,r=-1;r<2;r++)for(var c=-1;c<2;c++){var l=o+r,a=i+c;if(l<0||l>wl.row-1||a<0||a>wl.col-1);else{var n=this.candyArray[l][a];n&&(0==n.type&&0==n.isBoom?wl.isObjectIndex(e,n)||(n.isBoom=!0,e.push(n)):n.life>0?(n.life--,n.getComponent(cc.Sprite).spriteFrame=this.stoneType[n.life]):0==n.type?wl.isObjectIndex(e,n)||wl.isObjectIndex(this.crushCandy_Array,n)||this.crushCandy_Array.push(n):wl.isObjectIndex(this.crushCandy_Array,n)||this.crushCandy_Array.push(n))}}this.boomArray=[],this.boomArray=this.boomArray.concat(e),e=null,this.goClear(),this.schedule(this.checkCandyCrush,.1)},scoreTask:function(e){if("true"!=ls.getItem(wl.isGuide_1)){var t=0;t=1==e.die?200*e.num:100*e.num,this.score+=t,this.percent=this.score/this.stageData.starScore,this.taskLayer.getChildByName("scoreNumber")&&(this.scoreNumber-=t,this.scoreNumber<=0&&(this.scoreNumber=0),this.taskLayer.getChildByName("scoreNumber").getChildByName("id").getComponent(cc.Label).string=this.scoreNumber);var s=cc.instantiate(this.laAddScore);s.parent=this.node,s.zIndex=2,s.position=e.position,s.getComponent(cc.Label).string=t,1==e.type&&(s.color=wl.red),2==e.type&&(s.color=wl.blue),3==e.type&&(s.color=wl.green),s.runAction(cc.sequence(cc.spawn(cc.moveBy(.5,0,20),cc.scaleTo(.5,1.2)),cc.callFunc(function(){wl.destroyNode(s)},this)))}},candyTask:function(e){var t=["red","blue","green","","stone"],s=t[e.type-1]+"Number";this.taskLayer.getChildByName(s)&&(this[s]-=e.num,this[s]<=0&&(this[s]=0),this.taskLayer.getChildByName(s).getChildByName("id").getComponent(cc.Label).string=this[s])},shootLightBullet:function(){this.isSave=!1,this.stepNumber-=3,this.stepNumber<=0&&(this.stepNumber=0),this.laStep.string=this.stepNumber,this.score+=200;var e=this.winCount%3;this.winCount++;var t=this.turretArray[e],s=cc.instantiate(this.bullet);s.parent=this.node,s.getComponent(cc.Sprite).spriteFrame=this.bulletType[3],s.zIndex=3,s.type=5,s.level=5,s.col=t.col,s.setPosition(cc.pAdd(t.getPosition(),cc.p(0,s.height/2+t.height/2-10))),s.getComponent(cc.Animation).play("light"),this.bulletArray.push(s),this.scheduleOnce(function(e){this.schedule(this.checkCollision,.1)},.5)},doWin:function(){cc.log("胜利"),audio.playEffect(audioType.win);var e=wl.lv,t=this.progressBar.progress,s=0;t>.3&&t<=.7?s=1:t>.7&&t<1?s=2:t>=1&&(s=3),3==s&&3!=wl.getItemInt("star_"+e),wl.starNum=s,s>ls.getItem("star_"+e)&&ls.setItem("star_"+e,s);var o=e+1;e+1>=ls.getItem(wl.maxLevel)&&ls.setItem(wl.maxLevel,o),ls.setItem(wl.curLevel,o),wl.log("当前关卡星星="+ls.getItem("star_"+e)),wl.log("临时星星="+wl.starNum),wl.log("当前关卡="+ls.getItem(wl.curLevel)),wl.log("最大关卡"+ls.getItem(wl.maxLevel)),wl.levelScore=this.score,
0==this.node.getChildByName("failLayer").active&&0==this.node.getChildByName("winLayer").active&&(wl.show(this.node.getChildByName("winLayer")),this.node.getChildByName("winLayer").getComponent("Win").init())},btnCallWin:function(e){this.doWin()},bottleTouchEnd:function(e){if(0==this.bulletArray.length&&0==this.newCandy_Array.length){audio.playEffect(audioType.click),this.hand.active&&(this.hand.active=!1,this.node.getChildByName("swallowLayer").zIndex=-1,ls.setItem(wl.isGuide_4,2));var t=e.target;switch(t.getComponent(cc.ProgressBar).progress=0,t.getChildByName("pzLight").active=!1,t.getChildByName("pzLight").getComponent(cc.Animation).stop(),t.tag){case 0:this.redPercent=0,this.curRedPercent=0;break;case 1:this.bluePercent=0,this.curBluePercent=0;break;case 2:this.greenPercent=0,this.curGreenPercent=0}this.setInteractable(t,!1),this.boss.active?this.attackBoss(t.tag+1):this.selfBoom(t.tag+1)}},attackBoss:function(e){1==this.isAttackBoss;for(var t=0;t<wl.row;t++)for(var s=0;s<wl.col;s++){var o=this.candyArray[t][s];o&&o.type==e&&(1==o.shield?this.removeShield(o):(o.die=1,o.isAttack=!0,this.crushCandy_Array.push(o)))}this.goClear(),this.schedule(this.checkCandyCrush,.1)},selfBoom:function(e){audio.playEffect(audioType.boom);for(var t=0;t<wl.row;t++)for(var s=0;s<wl.col;s++){var o=this.candyArray[t][s];o&&o.type==e&&(1==o.shield?this.removeShield(o):(o.isSelfBoom=!0,o.die=1,this.crushCandy_Array.push(o)))}this.goClear(),this.schedule(this.checkCandyCrush,.1)},bossUpdate:function(){if(this.bossNumber>0&&this.boss.active&&(this.boss.getChildByName("progressBar").getComponent(cc.ProgressBar).progress=this.boss.hp,this.boss.hp<=0&&0==this.boss.isDie))if(this.boss.isDie=!0,this.bossNumber--,this.taskLayer.getChildByName("bossNumber").getChildByName("id").getComponent(cc.Label).string=this.bossNumber,this.bossNumber<=0)this.boss.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){this.boss.active=!1},this)));else{this.isBossDie=!0;var e=this.boss.getPosition();this.boss.runAction(cc.sequence(cc.fadeOut(.5),cc.place(cc.pAdd(e,cc.p(400,0))),cc.callFunc(function(e){e.isDie=!1,e.hp=1,this.boss.getChildByName("progressBar").getComponent(cc.ProgressBar).progress=e.hp},this),cc.delayTime(2),cc.fadeIn(.2),cc.moveBy(.5,-400,0),cc.callFunc(function(e){this.isBossDie=!1},this)))}},updatePropNum:function(){for(var e=0;e<this.propArr.length;e++){var t=e+1;this.propArr[e].getChildByName("num").getComponent(cc.Label).string=ls.getItem("p"+t+"Num")}},guide1:function(){1==wl.lv&&(this.hand.active=!0,this.hand.zIndex=6,this.handStep=0,this.hand.setPosition(cc.pAdd(this.turretArray[wl.guide[0]].getPosition(),cc.p(55,-60))),this.hand.setOpacity(0))},moveHand:function(){if(1==wl.lv){cc.log("移动手"),this.hand.stopAllActions();var e=this.handStep,t=this.handStep+1;if(t>=wl.guide.length)return ls.setItem(wl.isGuide_1,"false"),this.handStep=0,void(this.hand.active=!1);this.hand.setScale(.7),this.hand.setOpacity(0),this.hand.setRotation(0);var s=.5;if(wl.guide[e]==wl.guide[t])this.hand.runAction(cc.sequence(cc.rotateBy(.1,-15),cc.spawn(cc.moveTo(s,cc.pAdd(this.turretArray[wl.guide[e]].getPosition(),cc.p(15,-25))),cc.fadeIn(s)),cc.scaleTo(.3,.6),cc.delayTime(.1),cc.scaleTo(.3,.7),cc.spawn(cc.moveTo(s,cc.pAdd(this.turretArray[wl.guide[e]].getPosition(),cc.p(55,-60))),cc.scaleTo(s,.8),cc.fadeOut(s)),cc.rotateBy(.1,15),cc.delayTime(2)).repeatForever());else{var o,i,r,c,l;if(1==Math.abs(wl.guide[e]-wl.guide[t])){var a=(this.turretArray[wl.guide[e]].getPositionX()+this.turretArray[wl.guide[t]].getPositionX())/2;o=cc.p(a,this.turretArray[wl.guide[e]].getPositionY()),c=20,l=-40}else s=.7,o=this.turretArray[1].getPosition(),c=-20,l=40;i=cc.pAdd(this.turretArray[wl.guide[e]].getPosition(),cc.p(15,-25)),r=cc.pAdd(this.turretArray[wl.guide[t]].getPosition(),cc.p(15,-25)),this.hand.runAction(cc.sequence(cc.spawn(cc.moveTo(s,i),cc.fadeIn(s),cc.rotateBy(s,c)),cc.delayTime(.1),cc.spawn(cc.moveTo(s,r),cc.rotateBy(s,l)),cc.delayTime(.1),cc.spawn(cc.moveTo(s,cc.pAdd(o,cc.p(0,-60))),cc.fadeOut(s),cc.scaleTo(s,.8)),cc.rotateBy(.1,c),cc.scaleTo(s,.7),cc.delayTime(1)).repeatForever())}}},guide4:function(e){if(!(wl.getItemInt(wl.isGuide_4)>1)){wl.log("引导4"),this.node.getChildByName("swallowLayer").zIndex=3,this.hand.active=!0,this.hand.setPosition(cc.pAdd(e,cc.p(55,-60))),this.hand.zIndex=6,this.hand.setOpacity(0);var t=.5;this.hand.runAction(cc.sequence(cc.rotateBy(.1,-15),cc.spawn(cc.moveTo(t,cc.pAdd(e,cc.p(15,-25))),cc.fadeIn(t)),cc.scaleTo(.3,.6),cc.delayTime(.1),cc.scaleTo(.3,.7),cc.spawn(cc.moveTo(t,cc.pAdd(e,cc.p(55,-60))),cc.scaleTo(t,.8),cc.fadeOut(t)),cc.rotateBy(.1,15),cc.delayTime(2)).repeatForever())}},guide7:function(e,t){if(!(wl.getItemInt(wl.isGuide_7)>1)){wl.log("引导7"),this.hand.stopAllActions(),this.hand.setOpacity(0),this.hand.setRotation(0);var s,o=.5;if(1==e){var i=this.node.convertToWorldSpace(this.btnProp.position);s=t?cc.pAdd(i,cc.p(0,t)):cc.pAdd(i,cc.p(0,-35)),this.hand.position=cc.pAdd(s,cc.p(30,-35))}else if(2==e)s=cc.pAdd(this.turretArray[0].getPosition(),cc.p(0,-80));else{if(3!=e)return wl.log("引导结束"),ls.setItem(wl.isGuide_7,2),void(this.hand.active=!1);s=this.candyArray[0][1].getPosition(),this.hand.setPosition(cc.pAdd(s,cc.p(55,-60)))}cc.log("num:"+e),this.hand.runAction(cc.sequence(cc.rotateBy(.1,-15),cc.spawn(cc.moveTo(o,cc.pAdd(s,cc.p(15,-25))),cc.fadeIn(o)),cc.scaleTo(.3,.6),cc.delayTime(.1),cc.scaleTo(.3,.7),cc.spawn(cc.moveTo(o,cc.pAdd(s,cc.p(55,-60))),cc.scaleTo(o,.8),cc.fadeOut(o)),cc.rotateBy(.1,15),cc.delayTime(2)).repeatForever())}},timeLevel:function(){var e=this.node.getChildByName("time");e.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(e){this.stepNumber--,this.laStep.string=this.stepNumber,this.stepNumber<=0&&(e.stopAllActions(),0==this.node.getChildByName("failLayer").active&&wl.show(this.node.getChildByName("failLayer")))},this)).repeatForever())},btnCallPause:function(e){wl.setBtnCooling(e.target),audio.playEffect(audioType.click),1==wl.gameStatus&&this.node.getChildByName("time").stopAllActions(),sdk.showWindowAd(),wl.show(this.node.getChildByName("pauseLayer"))},btnCallMenu:function(e){audio.playEffect(audioType.close),cc.director.loadScene("stage")},btnCallAgain:function(e){wl.setBtnCooling(e.target),audio.playEffect(audioType.click),cc.director.loadScene("game")},btnCallContinue:function(e){wl.setBtnCooling(e.target),audio.playEffect(audioType.click),1==wl.gameStatus&&this.timeLevel(),wl.close(this.node.getChildByName("pauseLayer"))},btnCallBuy:function(e){wl.setBtnCooling(e.target),audio.playEffect(audioType.click),1==wl.gameStatus&&this.node.getChildByName("time").stopAllActions(),wl.show(this.node.getChildByName("storeLayer"))},btnCallShowProp:function(e){audio.playEffect(audioType.click);var t=this.propLayer.getChildByName("UI_Game_XiaLan").height;this.isShowPropLayer?(this.isShowPropLayer=!1,this.propLayer.height=t,this.propLayer.runAction(cc.sequence(cc.moveBy(.5,0,-t),cc.callFunc(function(){this.propLayer.active=this.isShowPropLayer},this)))):(this.isShowPropLayer=!0,this.propLayer.active=this.isShowPropLayer,this.propLayer.height=300,this.propOffsetY=this.propLayer.height+t,this.propLayer.runAction(cc.moveBy(.5,0,t)),7==wl.lv&&1==wl.getItemInt(wl.isGuide_7)&&(this.hand.setOpacity(0),this.guide7(2)))},prop1TouchStart:function(e){if(audio.playEffect(audioType.click),wl.getItemInt(wl.p1Num)>0){this.isUseProp1=!0,7==wl.lv&&1==wl.getItemInt(wl.isGuide_7)&&(this.hand.setOpacity(0),this.guide7(3));var t=e.target,s=cc.pSub(t.position,cc.p(0,this.propOffsetY));t.parent=this.node,t.zIndex=9,t.getChildByName("num").active=!1,t.position=s,this.convertPos(t),this.isShowPropLayer=!0,this.btnCallShowProp()}else this.isUseProp1=!1,wl.show(this.node.getChildByName("buyLayer"))},prop1TouchMove:function(e){if(this.isUseProp1!==!1){var t=e.target,s=e.touch.getDelta();t.x+=s.x,t.y+=s.y,this.convertPos(t)}},prop1TouchEnd:function(e){if(this.isUseProp1!==!1){var t=e.target;this.convertPos(t);var s=this.getProp1Index(t);if(null!=s&&5!=this.candyArray[s.x][s.y].type){var o=wl.getItemInt(wl.p1Num)-1;ls.setItem(wl.p1Num,o),this.updatePropNum();var i=this.candyArray[s.x][s.y];i.getComponent(cc.Sprite).spriteFrame=this.boomFrame,i.type=0,1==i.shield&&(i.shield=0,i.getChildByName("shield").active=!1),7==wl.lv&&1==wl.getItemInt(wl.isGuide_7)&&this.guide7(4)}else 7==wl.lv&&1==wl.getItemInt(wl.isGuide_7)&&(this.hand.setOpacity(0),this.guide7(1,15));t.scale=1,t.getChildByName("num").active=!0,t.parent=this.node.getChildByName("propLayer"),t.position=this.prop1Pos}},prop1TouchCancel:function(e){var t=e.target;t.scale=1,t.getChildByName("num").active=!0,t.parent=this.node.getChildByName("propLayer"),t.position=this.prop1Pos},convertPos:function(e){},getProp1Index:function(e){var t=Math.floor((e.y+size.width/2-wl.leftBlank)/(this.candy.height+wl.blanky)),s=Math.floor((e.x+size.width/2-wl.leftBlank)/(this.candy.width+wl.blankx));return s>=0&&s<wl.col&&t>=0&&t<wl.row?cc.p(t,s):null},btnCallProp2:function(e){if(wl.setBtnCooling(e.target),audio.playEffect(audioType.click),this.bottleArr[0].active===!1)return this.isShowPropLayer=!0,void this.btnCallShowProp();if(wl.log(wl.getItemInt(wl.p2Num)),wl.getItemInt(wl.p2Num)>0){var t=wl.getItemInt(wl.p2Num)-1;ls.setItem(wl.p2Num,t),this.updatePropNum();for(var s=0;s<this.bottleArr.length;s++){var o=this.bottleArr[s];this.setInteractable(o,!0);var i=o.getChildByName("pzLight").getComponent(cc.Animation);switch(o.getChildByName("pzLight").active=!0,i.stop(),i.play("bottle"),o.tag){case 0:this.redPercent=1;break;case 1:this.bluePercent=1;break;case 2:this.greenPercent=1}}this.isShowPropLayer=!0,this.btnCallShowProp()}else 1==wl.gameStatus&&this.node.getChildByName("time").stopAllActions(),wl.show(this.node.getChildByName("buyLayer"))},btnCallProp3:function(e){if(wl.setBtnCooling(e.target),audio.playEffect(audioType.click),wl.log(wl.getItemInt(wl.p3Num)),wl.getItemInt(wl.p3Num)>0){var t=wl.getItemInt(wl.p3Num)-1;ls.setItem(wl.p3Num,t),this.updatePropNum();for(var s=0;s<this.turretArray.length;s++){var o=this.turretArray[s];o.level=5,this.setTurretTexture(o)}this.isShowPropLayer=!0,this.btnCallShowProp()}else 1==wl.gameStatus&&this.node.getChildByName("time").stopAllActions(),wl.show(this.node.getChildByName("buyLayer"))},loadKeyboardEvent:function(){"keyboard"in cc.sys.capabilities?cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,t){}.bind(this),onKeyReleased:function(e,t){e===cc.KEY.back&&this.btnCallMenu()}.bind(this)},this.node):console.log("no keyboard")}}),cc._RFpop()},{SceneBase:"SceneBase"}],Globals:[function(e,t,s){"use strict";cc._RFpush(t,"3d360l82slEypbhGwKRiAxF","Globals"),window.ls=cc.sys.localStorage,window.res={},window.size=null,window.audio=null,window.audioType={addScore:"addScore",attackBoss1:"attackBoss1",attackBoss2:"attackBoss2",attackMiss:"attackMiss",attack:"attack",boom:"boom",click:"click",close:"close",dida:"dida",ding:"ding",fall:"fall",good:"good",hebing:"hebing",jiguang:"jiguang",moveTurret:"moveTurret",nice:"nice",sava:"sava",shuipao:"shuipao",win:"win",yeah:"yeah"},cc._RFpop()},{}],Load:[function(e,t,s){"use strict";cc._RFpush(t,"16b85kr1nFI/o41xBZh6QDj","Load"),cc.Class({"extends":cc.Component,properties:{_count:0,_sceneNameList:[],_lbLoading:null},onLoad:function(){cc.log("loadscene"),this._sceneNameList=["start","stage","game"];for(var e in this._sceneNameList)cc.director.preloadScene(this._sceneNameList[e],this.preloadSceneCallback.bind(this));this.perent=parseInt(100/this._sceneNameList.length),this.schedule(this.checkCount,.02),this.node.getChildByName("New Label")&&(this._lbLoading=this.node.getChildByName("New Label").getComponent(cc.Label))},preloadSceneCallback:function(){var e=this._sceneNameList[this._count++];cc.log(e+"加载完成")},checkCount:function(e){this._lbLoading&&(this._lbLoading.string="loading..."+this._count*this.perent+"%"),this._count>=this._sceneNameList.length&&(cc.log("加载完成"),this.unschedule(this.checkCount),cc.director.loadScene("start"))}}),cc._RFpop()},{}],Play:[function(e,t,s){"use strict";cc._RFpush(t,"d9461XeMb1GZKtUZA8haXMU","Play"),cc.Class({"extends":cc.Component,properties:{task:cc.Node,taskLayer:cc.Node,rewardLayer:cc.Node,lbJewel:cc.Label,taskType:[cc.SpriteFrame],_stageData:null,_isBonus:!1},onLoad:function(){this.taskArr=[]},loadTaskData:function(){this.lbJewel.string=wl.lv,this.destroyData(),this._isBonus=!1;var e=wl.levelData[wl.lv-1];this.releaseTask(e.score,0,"scoreNumber"),this.releaseTask(e.red,1,"redNumber"),this.releaseTask(e.blue,2,"blueNumber"),this.releaseTask(e.green,3,"greenNumber"),this.releaseTask(e.boss,4,"bossNumber"),this.releaseTask(e.sto,5,"stoneNumber"),e=wl.propBonus[wl.lv-1],this._isBonus=!0,this.releaseTask(e.p1,6,"p1"),this.releaseTask(e.p2,7,"p2"),this.releaseTask(e.p3,8,"p3"),this._stageData=e},releaseTask:function(e,t,s){var o=null;t<=5?e>0&&(o=cc.instantiate(this.task),o.parent=this.taskLayer,o.x=-55):(o=cc.instantiate(this.task),o.parent=this.rewardLayer,o.x=-18),o&&(o.getComponent(cc.Sprite).spriteFrame=this.taskType[t],o.getChildByName("id").getComponent(cc.Label).string="X"+e,this._isBonus&&(0===wl.getItemInt("isAdd_"+wl.lv)?o.getChildByName("id").getComponent(cc.Label).string="X"+e:o.getChildByName("id").getComponent(cc.Label).string="X0"),o.width=30,o.height=30,o.name=s,this.taskArr.push(o))},destroyData:function(){for(var e=0;e<this.taskArr.length;e++)wl.destroyNode(this.taskArr[e])},btnCallPlay:function(e){if(audio.playEffect(audioType.click),ls.setItem(wl.curLevel,wl.lv),0===wl.getItemInt("isAdd_"+wl.lv)){ls.setItem("isAdd_"+wl.lv,1);var t=wl.getItemInt(wl.p1Num)+this._stageData.p1;ls.setItem(wl.p1Num,t),t=wl.getItemInt(wl.p2Num)+this._stageData.p2,ls.setItem(wl.p2Num,t),t=wl.getItemInt(wl.p3Num)+this._stageData.p3,ls.setItem(wl.p3Num,t)}cc.director.loadScene("game")},btnCallClose:function(e){audio.playEffect(audioType.close),wl.close(this.node)}}),cc._RFpop()},{}],SDK:[function(e,t,s){"use strict";cc._RFpush(t,"922a0SpY/lJwbk9mxlSCmVW","SDK"),window.sdk={},sdk.showWindowAd=function(){if(cc.sys.isNative){var e="org/cocos2dx/javascript/AppActivity";jsb.reflection.callStaticMethod(e,"showWindowAd","()V")}},cc._RFpop()},{}],SceneBase:[function(e,t,s){"use strict";cc._RFpush(t,"15af5TA72JH67RggfhFl2Ci","SceneBase"),cc.Class({"extends":e("Base"),properties:{},onLoad:function(){this._super(),size=cc.winSize,audio=cc.find("audio").getComponent("Audio"),wl.initData(),audio.playbgm(),this._loadBackstageEvent(),this.loadKeyboardEvent()},initProperties:function(){},init:function(){},_loadBackstageEvent:function(){cc.eventManager.addCustomListener(cc.game.EVENT_HIDE,function(){audio.pauseMusic()}.bind(this)),cc.eventManager.addCustomListener(cc.game.EVENT_SHOW,function(){audio.resumeMusic()}.bind(this))},loadKeyboardEvent:function(){},exitScene:function(){cc.eventManager.removeAllListeners()}}),cc._RFpop()},{Base:"Base"}],Stage:[function(e,t,s){"use strict";cc._RFpush(t,"51e09151F5HX4gy8PQGwAc2","Stage"),cc.Class({"extends":e("SceneBase"),properties:{scrollView:cc.ScrollView,pageView:cc.PageView,content:cc.Node,lbJewel:cc.Label,lbStar:cc.Label,item:cc.Node},onLoad:function(){this._super(),this.init()},init:function(){this.lbJewel.string=wl.getItemInt(wl.jewelTotal),this.lbStar.string=this.getStarNum(),this.loadPageView(),this.node.runAction(cc.sequence(cc.delayTime(.001),cc.callFunc(this.jumpToPage,this)))},loadScroView:function(){for(var e=wl.getItemInt(wl.maxLevel),t=0,s=0;s<wl.levelTotal;s++){t++;var o=this.content.children[s];if(o.tag=t,o.getChildByName("levelLabel").getComponent(cc.Label).string=t,t<=e){t==e&&(o.getChildByName("UI_Level_DangQianGuanQia").active=!0),o.on("touchend",this.btnCallItem,this);for(var i=1;i<=wl.getItemInt("star_"+t);i++)o.getChildByName("UI_Level_Star_"+i).active=!0}}var r=this.content.getChildByTag(e),c=this.content.height;r.y<size.height/2?this.scrollView.scrollToBottom(.1):r.y+size.height/2>c?this.scrollView.scrollToTop(.1):e<20?this.scrollView.scrollToPercentVertical((r.y-.4*size.height)/c):this.scrollView.scrollToPercentVertical((r.y+.4*size.height)/c)},loadPageView:function(){for(var e=wl.getItemInt(wl.maxLevel),t=0,s=1;s<=4;s++)for(var o=this.content.getChildByName("page_"+s),i=1;i<=20;i++){t++;var r=cc.instantiate(this.item);if(r.tag=t,r.parent=o,r.getChildByName("levelLabel").getComponent(cc.Label).string=t,t<=e){t==e&&(r.getChildByName("UI_Level_DangQianGuanQia").active=!0),r.on("touchend",this.btnCallItem,this);for(var c=1;c<=wl.getItemInt("star_"+t);c++)r.getChildByName("UI_Level_Star_"+c).active=!0}}},jumpToPage:function(){var e=wl.getItemInt(wl.curLevel),t=Math.floor((e-1)/20)%4;cc.log("跳到："+t),this.pageView.scrollToPage(t,.01)},btnCallNext:function(e){wl.setBtnCooling(e.target),audio.playEffect(audioType.click);var t=wl.getItemInt(wl.maxLevel)+1;ls.setItem(wl.maxLevel,t),cc.director.loadScene("stage")},getStarNum:function(){for(var e=0,t=1;t<=wl.levelTotal;t++)e+=wl.getItemInt("star_"+t);return e},btnCallItem:function(e){wl.setBtnCooling(e.target),audio.playEffect(audioType.click),wl.lv=e.target.tag,ls.setItem(wl.curLevel,wl.lv),wl.show(this.node.getChildByName("playLayer")),this.node.getChildByName("playLayer").getComponent("Play").loadTaskData()},btnCallBack:function(e){audio.playEffect(audioType.close),cc.director.loadScene("start")},btnCallBuy:function(e){wl.setBtnCooling(e.target),audio.playEffect(audioType.click),wl.show(this.node.getChildByName("storeLayer"))},loadKeyboardEvent:function(){"keyboard"in cc.sys.capabilities?cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,t){}.bind(this),onKeyReleased:function(e,t){e===cc.KEY.back&&this.btnCallBack()}.bind(this)},this.node):console.log("no keyboard")}}),cc._RFpop()},{SceneBase:"SceneBase"}],Start:[function(e,t,s){"use strict";cc._RFpush(t,"d18acjQJJtG9rUiMWk2gBLG","Start"),cc.Class({"extends":e("SceneBase"),properties:{sfxBtnOpen:cc.Node,sfxBtnClose:cc.Node,bgmBtnOpen:cc.Node,bgmBtnClose:cc.Node},onLoad:function(){this._super(),this.sfxBtnOpen.on("touchend",this.btnCallSFX,this),this.sfxBtnClose.on("touchend",this.btnCallSFX,this),this.bgmBtnOpen.on("touchend",this.btnCallBGM,this),this.bgmBtnClose.on("touchend",this.btnCallBGM,this),this.sfxBtnIsShow(),this.bgmBtnIsShow()},sfxBtnIsShow:function(){"true"==ls.getItem(wl.effectStatus)?(this.sfxBtnOpen.active=!0,this.sfxBtnClose.active=!1):(this.sfxBtnOpen.active=!1,this.sfxBtnClose.active=!0)},bgmBtnIsShow:function(){"true"==ls.getItem(wl.musicStatus)?(this.bgmBtnOpen.active=!0,this.bgmBtnClose.active=!1):(this.bgmBtnOpen.active=!1,this.bgmBtnClose.active=!0)},btnCallSFX:function(e){wl.setBtnCooling(e.target),"true"===ls.getItem(wl.effectStatus)?ls.setItem(wl.effectStatus,"false"):ls.setItem(wl.effectStatus,"true"),audio.playEffect(audioType.click),this.sfxBtnIsShow()},btnCallBGM:function(e){wl.setBtnCooling(e.target),audio.playEffect(audioType.click),"true"===ls.getItem(wl.musicStatus)?(ls.setItem(wl.musicStatus,"false"),audio.stopbgm()):(ls.setItem(wl.musicStatus,"true"),audio.playbgm()),this.bgmBtnIsShow()},btnCallStart:function(e){wl.setBtnCooling(e.target),audio.playEffect(audioType.click),cc.director.loadScene("stage")},btnCallExit:function(e){audio.playEffect(audioType.click),wl.isExit&&(wl.isExit=!1,wl.show(this.node.getChildByName("exitLayer")))},btnCallYes:function(e){wl.setBtnCooling(e.target),audio.playEffect(audioType.close),cc.director.end()},btnCallNo:function(e){wl.setBtnCooling(e.target),audio.playEffect(audioType.click),wl.isExit=!0,wl.close(this.node.getChildByName("exitLayer"))},loadKeyboardEvent:function(){"keyboard"in cc.sys.capabilities?cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,t){}.bind(this),onKeyReleased:function(e,t){e===cc.KEY.back&&this.btnCallExit()}.bind(this)},this.node):console.log("no keyboard")}}),cc._RFpop()},{SceneBase:"SceneBase"}],Store:[function(e,t,s){"use strict";cc._RFpush(t,"6dd03/lj/pDeKbyNwv0CGLP","Store"),cc.Class({"extends":cc.Component,properties:{laNum:[cc.Label],laPrice:[cc.Label],payBtn:[cc.Node],game:cc.Canvas,_gameScript:null},onLoad:function(){this.game&&(this._gameScript=this.game.getComponent("Game")),this.num=[999,999,999,999],this.price=[9.99,9.99,9.99,9.99];for(var e=0;e<4;e++)this.laNum[e].string="X"+this.num[e],this.laPrice[e].string=this.price[e],this.payBtn[e].tag=e,this.payBtn[e].on("touchend",this.btnCallPay,this)},btnCallPay:function(e){audio.playEffect(audioType.click);var t=e.target.tag;cc.log(t)},btnCallClose:function(e){audio.playEffect(audioType.close),1==wl.gameStatus&&this.game&&this._gameScript.timeLevel(),wl.close(this.node)}}),cc._RFpop()},{}],Turret:[function(e,t,s){"use strict";cc._RFpush(t,"259a4zdJ4tFV6n8616HtWyi","Turret"),cc.Class({"extends":cc.Component,properties:{turretType:[cc.SpriteFrame],game:cc.Canvas},onLoad:function(){},init:function(e,t,s){this.node.type=e,this.node.row=t,this.node.col=s,this.node.isSwap=!1,this.node.level=1,this.node.isClick=!0,this.node.getComponent(cc.Sprite).spriteFrame=this.turretType[e-1]},onCollisionEnter:function(e){},onCollisionStay:function(e){},onCollisionExit:function(){},moveTurret1:function(e,t){},moveTurret2:function(e,t){},moveTurret3:function(e,t){}}),cc._RFpop()},{}],WL:[function(e,t,s){"use strict";cc._RFpush(t,"88523ZZ66JA55fvj31D/LV9","WL"),window.wl={},wl.musicStatus="musicStatus",wl.effectStatus="effectStatus",wl.curLevel="curLevel",wl.maxLevel="maxLevel",wl.sava="sava",wl.isUserProp="isUserProp",wl.isGuide_1="isGuide_1",wl.isGuide_4="isGuide_4",wl.isGuide_7="isGuide_7",wl.p1Num="p1Num",wl.p2Num="p2Num",wl.p3Num="p3Num",wl.jewelTotal="jewelTotal",wl.isLockShield="isLockShield",wl.isExit=!0,wl.initData=function(){if(!ls.getItem("game")){cc.log("初始化游戏数据"),ls.setItem("game","true"),ls.setItem(wl.musicStatus,"true"),ls.setItem(wl.effectStatus,"true"),ls.setItem(wl.curLevel,1),ls.setItem(wl.maxLevel,1);for(var e=1;e<=wl.levelTotal;e++)ls.setItem("star_"+e,0),ls.setItem("isAdd_"+e,0);ls.setItem(wl.sava,"false"),ls.setItem(wl.isUserProp,0),ls.setItem(wl.isGuide_1,"false"),ls.setItem(wl.isGuide_4,0),ls.setItem(wl.isGuide_7,0),ls.setItem(wl.isLockShield,"false"),ls.setItem(wl.p1Num,2),ls.setItem(wl.p2Num,1),ls.setItem(wl.p3Num,1),ls.setItem(wl.jewelTotal,888)}},wl.row=4,wl.col=3,wl.leftBlank=23,wl.girdx=88,wl.girdy=77,wl.blankx=20,wl.blanky=5,wl.moveTime=.2,wl.gameStatus=0,wl.levelScore=0,wl.levelTotal=80,wl.guide=[2,2,2,1,0,2,2,2,2,2],wl.data=[1,2,4,6,7,12,18,20,27,33,38,40],wl.price=[10,15,10],wl.lv=10,wl.starNum=0,wl.stage_40=[{type:1,shield:1,row:3,col:0},{type:3,shield:0,row:3,col:1},{type:2,shield:0,row:3,col:2},{type:1,shield:0,row:2,col:0},{type:3,shield:0,row:2,col:1},{type:2,shield:0,row:2,col:2},{type:1,shield:0,row:1,col:0},{type:3,shield:1,row:1,col:1},{type:2,shield:0,row:1,col:2},{type:4,shield:1,row:0,col:0},{type:5,shield:0,row:0,col:1},{type:2,shield:1,row:0,col:2}],wl.getItemInt=function(e){return parseInt(ls.getItem(e))},wl.getItemFloat=function(e){return parseFloat(ls.getItem(e))},wl.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},wl.getRandomFloat=function(e,t){return Math.random()*(t-e+1)+e},wl.setEnabled=function(e,t){e.setEnabled(t)},wl.getNoRepeatNumber=function(e,t){for(var s=[],o=[],i=t-e+1,r=0;r<i;++r)s[r]=r+e;for(var c=i-1,l=0;l<i;++l){var a=Math.floor(Math.random()*(c+1));o[l]=s[a],s[a]=s[c],c--}return o},wl.matrix=function(){var e=[],t=arguments[0],s=arguments[1];if(3==arguments.length)var o=arguments[2];else if(4==arguments.length)var i=arguments[2],o=arguments[3];for(var r=0;r<t;++r){for(var c=[],l=0;l<s;++l)if(4==arguments.length){for(var a=[],n=0;n<i;n++)a[n]=o;c[l]=a}else c[l]=o;e[r]=c}return e},wl.copyToArray=function(e){for(var t=[],s=0;s<e.length;s++){var o=e[s];t.push(o)}return t},wl.log=function(){for(var e="#:",t=0;t<arguments.length;t++)e+=arguments[t]+";";cc.log(e)},wl.destroyNode=function(e){e&&e.parent&&(e.parent.removeChild(e),e.destroy())},wl.setInteractable=function(e,t){e.getComponent(cc.Button).interactable=t},wl.setBtnCooling=function(e,t){t=t||.5,wl.setInteractable(e,!1),e.runAction(cc.sequence(cc.delayTime(t),cc.callFunc(function(){wl.setInteractable(e,!0)},this)))},wl.setBtnCooling2=function(e,t){},wl.show=function(e){e.active=!0;var t=e.getChildByName("layerColor");t.setOpacity(0),t.runAction(cc.fadeTo(.5,160));var s=e.getChildByName("layer");s.scale=0,s.runAction(cc.scaleTo(.5,1).easing(cc.easeBackOut()))},wl.close=function(e){var t=e.getChildByName("layerColor");t.runAction(cc.fadeTo(.25,0));var s=e.getChildByName("layer");s.runAction(cc.sequence(cc.scaleTo(.15,1.2,1.2),cc.scaleTo(.1,0,0),cc.callFunc(function(){e.active=!1},this)))},wl.contains=function(e,t){for(var s=e.length;s--;)if(e[s]===t)return!0;return!1},wl.isObjectIndex=function(e,t){var s=e.indexOf(t);return s>=0},wl.white=cc.color(255,255,255,255),wl.yellow=cc.color(255,255,0,255),wl.blue=cc.color(0,0,255,255),wl.green=cc.color(0,255,0,255),wl.red=cc.color(255,0,0,255),wl.magenta=cc.color(255,0,255,255),wl.black=cc.color(0,0,0,255),wl.orange=cc.color(255,127,0,255),wl.gray=cc.color(166,166,166,255),wl.stage_1=[{type:2,shield:0,row:3,col:0},{type:2,shield:0,row:3,col:1},{type:1,shield:0,row:3,col:2},{type:2,shield:0,row:2,col:0},{type:2,shield:0,row:2,col:1},{type:1,shield:0,row:2,col:2},{type:1,shield:0,row:1,col:0},{type:3,shield:0,row:1,col:1},{type:2,shield:0,row:1,col:2},{type:1,shield:0,row:0,col:0},{type:2,shield:0,row:0,col:1},{type:3,shield:0,row:0,col:2}],wl.stage_2=[{type:3,shield:0,row:3,col:0},{type:2,shield:0,row:3,col:1},{type:1,shield:0,row:3,col:2},{type:3,shield:0,row:2,col:0},{type:2,shield:0,row:2,col:1},{type:1,shield:0,row:2,col:2},{type:1,shield:0,row:1,col:0},{type:2,shield:0,row:1,col:1},{type:3,shield:0,row:1,col:2},{type:1,shield:0,row:0,col:0},{type:2,shield:0,row:0,col:1},{type:3,shield:0,row:0,col:2}],wl.stage_4=[{type:1,shield:0,row:3,col:0},{type:2,shield:0,row:3,col:1},{type:1,shield:0,row:3,col:2},{type:2,shield:0,row:2,col:0},{type:1,shield:0,row:2,col:1},{type:2,shield:0,row:2,col:2},{type:2,shield:0,row:1,col:0},{type:1,shield:0,row:1,col:1},{type:2,shield:0,row:1,col:2},{type:1,shield:0,row:0,col:0},{type:2,shield:0,row:0,col:1},{type:1,shield:0,row:0,col:2}],wl.stage_6=[{type:1,shield:0,row:3,col:0},{type:2,shield:0,row:3,col:1},{type:1,shield:0,row:3,col:2},{type:2,shield:1,row:2,col:0},{type:1,shield:0,row:2,col:1},{type:2,shield:1,row:2,col:2},{type:2,shield:1,row:1,col:0},{type:1,shield:0,row:1,col:1},{type:2,shield:1,row:1,col:2},{type:1,shield:0,row:0,col:0},{type:2,shield:0,row:0,col:1},{type:1,shield:0,row:0,col:2}],wl.stage_7=[{type:1,shield:1,row:3,col:0},{type:1,shield:1,row:3,col:1},{type:1,shield:1,row:3,col:2},{type:3,shield:1,row:2,col:0},{type:2,shield:1,row:2,col:1},{type:3,shield:1,row:2,col:2},{type:2,shield:1,row:1,col:0},{type:0,shield:0,row:1,col:1},{type:2,shield:1,row:1,col:2},{type:3,shield:1,row:0,col:0},{type:1,shield:1,row:0,col:1},{type:3,shield:1,row:0,col:2}],wl.stage_12=[{type:2,shield:1,row:3,col:0},{type:3,shield:1,row:3,col:1},{type:2,shield:1,row:3,col:2},{type:1,shield:1,row:2,col:0},{type:1,shield:1,row:2,col:1},{type:1,shield:1,row:2,col:2},{type:2,shield:1,row:1,col:0},{type:2,shield:1,row:1,col:1},{type:2,shield:1,row:1,col:2},{type:3,shield:1,row:0,col:0},{type:3,shield:1,row:0,col:1},{type:3,shield:1,row:0,col:2}],wl.stage_18=[{type:1,shield:0,row:3,col:0},{type:2,shield:0,row:3,col:1},{type:3,shield:0,row:3,col:2},{type:1,shield:0,row:2,col:0},{type:5,shield:0,row:2,col:1},{type:3,shield:0,row:2,col:2},{type:1,shield:0,row:1,col:0},{type:2,shield:0,row:1,col:1},{type:3,shield:0,row:1,col:2},{type:1,shield:0,row:0,col:0},{type:2,shield:0,row:0,col:1},{type:3,shield:0,row:0,col:2}],wl.stage_20=[{type:1,shield:0,row:3,col:0},{type:2,shield:1,row:3,col:1},{type:1,shield:0,row:3,col:2},{type:4,shield:0,row:2,col:0},{type:2,shield:0,row:2,col:1},{type:2,shield:0,row:2,col:2},{type:3,shield:1,row:1,col:0},{type:3,shield:0,row:1,col:1},{type:2,shield:0,row:1,col:2},{type:3,shield:0,row:0,col:0},{type:2,shield:0,row:0,col:1},{type:4,shield:0,row:0,col:2}],wl.stage_27=[{type:4,shield:0,row:3,col:0},{type:2,shield:1,row:3,col:1},{type:0,shield:0,row:3,col:2},{type:0,shield:0,row:2,col:0},{type:3,shield:1,row:2,col:1},{type:1,shield:1,row:2,col:2},{type:2,shield:1,row:1,col:0},{type:1,shield:0,row:1,col:1},{type:2,shield:1,row:1,col:2},{type:1,shield:0,row:0,col:0},{type:3,shield:0,row:0,col:1},{type:4,shield:0,row:0,col:2}],wl.stage_33=[{type:3,shield:0,row:3,col:0},{type:3,shield:0,row:3,col:1},{type:1,shield:0,row:3,col:2},{type:3,shield:0,row:2,col:0},{type:2,shield:0,row:2,col:1},{type:1,shield:0,row:2,col:2},{type:4,shield:0,row:1,col:0},{type:5,shield:0,row:1,col:1},{type:1,shield:0,row:1,col:2},{type:2,shield:0,row:0,col:0},{type:2,shield:0,row:0,col:1},{type:0,shield:0,row:0,col:2}],wl.stage_38=[{type:3,shield:1,row:3,col:0},{type:1,shield:0,row:3,col:1},{type:0,shield:0,row:3,col:2},{type:2,shield:0,row:2,col:0},{type:5,shield:0,row:2,col:1},{type:3,shield:0,row:2,col:2},{type:0,shield:0,row:1,col:0},{type:1,shield:1,row:1,col:1},{type:1,shield:0,row:1,col:2},{type:2,shield:1,row:0,col:0},{type:2,shield:0,row:0,col:1},{type:3,shield:1,row:0,col:2}],wl.levelData=[{lv:1,score:2e3,starScore:6e3,time:0,stepNumber:20,boss:0,attack:[0],red:0,blue:0,green:0,sto:0,shield:0,boom:0,stone:0,color:0},{lv:2,score:5e3,starScore:1e4,time:0,stepNumber:25,boss:0,attack:[0],red:0,blue:0,green:0,sto:0,shield:0,boom:0,stone:0,color:0},{lv:3,score:0,starScore:1e4,time:0,stepNumber:25,boss:0,attack:[0],red:0,blue:10,green:10,sto:0,shield:0,boom:0,stone:0,color:0},{lv:4,score:0,starScore:12e3,time:0,stepNumber:30,boss:2,attack:[0,15,100],red:0,blue:0,green:0,sto:0,shield:0,boom:0,stone:0,color:0},{lv:5,score:0,starScore:12e3,time:0,stepNumber:30,boss:1,attack:[0,10],red:0,blue:20,green:0,sto:0,shield:0,boom:0,stone:0,color:0},{lv:6,score:8e3,starScore:12e3,time:0,stepNumber:25,boss:0,attack:[0],red:0,blue:0,green:15,sto:0,shield:50,boom:0,stone:0,color:0},{lv:7,score:0,starScore:1e4,time:0,stepNumber:20,boss:0,attack:[0],red:15,blue:15,green:0,sto:0,shield:50,boom:0,stone:0,color:0},{lv:8,score:0,starScore:12e3,time:0,stepNumber:30,boss:1,attack:[0,8],red:0,blue:0,green:0,sto:0,shield:50,boom:0,stone:0,color:0},{lv:9,score:12e3,starScore:15e3,time:0,stepNumber:25,boss:1,attack:[0,5],red:0,blue:0,green:0,sto:0,shield:50,boom:0,stone:0,color:0},{lv:10,score:6e3,starScore:12e3,time:50,stepNumber:0,boss:0,attack:[0],red:0,blue:0,green:0,sto:0,shield:50,boom:20,stone:0,color:0},{lv:11,score:0,starScore:12e3,time:0,stepNumber:20,boss:1,attack:[0,4],red:0,blue:0,green:20,sto:0,shield:50,boom:20,stone:0,color:0},{lv:12,score:0,starScore:1e4,time:0,stepNumber:25,boss:1,attack:[0,6],red:15,blue:15,green:0,sto:0,shield:50,boom:20,stone:0,color:0},{lv:13,score:12e3,starScore:16e3,time:0,stepNumber:25,boss:0,attack:[0],red:0,blue:10,green:30,sto:0,shield:50,boom:20,stone:0,color:0},{lv:14,score:1e4,starScore:14e3,time:0,stepNumber:25,boss:1,attack:[0,4],red:0,blue:0,green:0,sto:0,shield:50,boom:20,stone:0,color:0},{lv:15,score:0,starScore:1e4,time:60,stepNumber:0,boss:0,attack:[0],red:10,blue:10,green:0,sto:0,shield:50,boom:20,stone:0,color:0},{lv:16,score:0,starScore:14e3,time:0,stepNumber:30,boss:2,attack:[0,4.5,5],red:0,blue:35,green:35,sto:0,shield:50,boom:20,stone:0,color:0},{lv:17,score:0,starScore:12e3,time:0,stepNumber:25,boss:1,attack:[0,5],red:0,blue:0,green:30,sto:0,shield:50,boom:20,stone:0,color:0},{lv:18,score:0,starScore:13e3,time:0,stepNumber:25,boss:0,attack:[0],red:20,blue:20,green:0,sto:1,shield:50,boom:20,stone:0,color:0},{lv:19,score:12e3,starScore:15e3,time:0,stepNumber:30,boss:0,attack:[0],red:0,blue:0,green:0,sto:1,shield:50,boom:35,stone:50,color:50},{lv:20,score:8e3,starScore:16e3,time:60,stepNumber:0,boss:0,attack:[0],red:0,blue:0,green:0,sto:0,shield:50,boom:35,stone:100,color:50},{lv:21,score:0,starScore:16e3,time:0,stepNumber:30,boss:1,attack:[0,5],red:25,blue:25,green:25,sto:0,shield:50,boom:35,stone:80,color:50},{lv:22,score:15e3,starScore:19e3,time:0,stepNumber:30,
boss:0,attack:[0],red:0,blue:0,green:30,sto:0,shield:50,boom:35,stone:80,color:50},{lv:23,score:0,starScore:15e3,time:0,stepNumber:30,boss:1,attack:[0,4],red:25,blue:25,green:0,sto:0,shield:50,boom:35,stone:80,color:50},{lv:24,score:0,starScore:18e3,time:0,stepNumber:30,boss:1,attack:[0,3.5],red:0,blue:0,green:0,sto:1,shield:50,boom:35,stone:50,color:50},{lv:25,score:18e3,starScore:23e3,time:0,stepNumber:30,boss:1,attack:[0,3],red:0,blue:0,green:0,sto:0,shield:50,boom:35,stone:80,color:50},{lv:26,score:0,starScore:18e3,time:0,stepNumber:25,boss:0,attack:[0],red:35,blue:35,green:0,sto:0,shield:50,boom:35,stone:80,color:50},{lv:27,score:1e4,starScore:16e3,time:80,stepNumber:0,boss:0,attack:[0],red:0,blue:0,green:0,sto:0,shield:50,boom:35,stone:80,color:50},{lv:28,score:0,starScore:15e3,time:0,stepNumber:25,boss:0,attack:[0],red:20,blue:20,green:20,sto:1,shield:50,boom:35,stone:50,color:50},{lv:29,score:0,starScore:18e3,time:0,stepNumber:30,boss:0,attack:[0],red:20,blue:20,green:0,sto:1,shield:50,boom:35,stone:70,color:50},{lv:30,score:18e3,starScore:22e3,time:0,stepNumber:30,boss:0,attack:[0],red:40,blue:40,green:0,sto:0,shield:50,boom:35,stone:80,color:50},{lv:31,score:0,starScore:2e4,time:0,stepNumber:25,boss:2,attack:[0,3.3,4.2],red:30,blue:0,green:0,sto:0,shield:50,boom:35,stone:80,color:50},{lv:32,score:18e3,starScore:22e3,time:0,stepNumber:30,boss:1,attack:[0,3],red:0,blue:0,green:0,sto:0,shield:50,boom:35,stone:80,color:50},{lv:33,score:16e3,starScore:21e3,time:0,stepNumber:30,boss:0,attack:[0],red:20,blue:20,green:20,sto:1,shield:50,boom:35,stone:50,color:50},{lv:34,score:0,starScore:17e3,time:0,stepNumber:30,boss:2,attack:[0,3.5,4],red:0,blue:30,green:0,sto:0,shield:50,boom:35,stone:80,color:50},{lv:35,score:14e3,starScore:18e3,time:100,stepNumber:0,boss:0,attack:[0],red:20,blue:10,green:10,sto:0,shield:50,boom:35,stone:80,color:50},{lv:36,score:2e4,starScore:25e3,time:0,stepNumber:35,boss:2,attack:[0,4,4],red:0,blue:0,green:0,sto:0,shield:50,boom:35,stone:80,color:50},{lv:37,score:2e4,starScore:25e3,time:0,stepNumber:30,boss:0,attack:[0],red:30,blue:0,green:30,sto:0,shield:50,boom:35,stone:80,color:50},{lv:38,score:0,starScore:2e4,time:0,stepNumber:30,boss:1,attack:[0,3],red:0,blue:0,green:0,sto:2,shield:50,boom:35,stone:40,color:50},{lv:39,score:18e3,starScore:24e3,time:0,stepNumber:25,boss:0,attack:[0],red:35,blue:35,green:35,sto:0,shield:50,boom:35,stone:80,color:50},{lv:40,score:0,starScore:28e3,time:0,stepNumber:40,boss:2,attack:[0,3,4],red:40,blue:40,green:40,sto:0,shield:50,boom:35,stone:80,color:50},{lv:41,score:16e3,starScore:2e4,time:120,stepNumber:0,boss:0,attack:[0],red:30,blue:30,green:30,sto:0,shield:50,boom:45,stone:70,color:50},{lv:42,score:22e3,starScore:25e3,time:0,stepNumber:30,boss:0,attack:[0],red:25,blue:25,green:25,sto:0,shield:50,boom:45,stone:70,color:60},{lv:43,score:0,starScore:23e3,time:0,stepNumber:35,boss:0,attack:[0],red:40,blue:40,green:35,sto:2,shield:50,boom:40,stone:40,color:50},{lv:44,score:2e4,starScore:25e3,time:0,stepNumber:35,boss:2,attack:[0,3.5,5],red:0,blue:0,green:0,sto:0,shield:50,boom:45,stone:70,color:55},{lv:45,score:0,starScore:2e4,time:130,stepNumber:0,boss:1,attack:[0,4.3],red:10,blue:20,green:0,sto:0,shield:50,boom:40,stone:60,color:50},{lv:46,score:22e3,starScore:25e3,time:0,stepNumber:30,boss:0,attack:[0],red:20,blue:0,green:15,sto:0,shield:50,boom:50,stone:60,color:60},{lv:47,score:0,starScore:2e4,time:0,stepNumber:35,boss:0,attack:[0],red:35,blue:35,green:35,sto:2,shield:60,boom:40,stone:35,color:50},{lv:48,score:2e4,starScore:24e3,time:0,stepNumber:30,boss:1,attack:[0,3],red:15,blue:20,green:25,sto:0,shield:50,boom:45,stone:70,color:50},{lv:49,score:24e3,starScore:25e3,time:0,stepNumber:30,boss:2,attack:[0,3.5,4],red:0,blue:0,green:0,sto:0,shield:50,boom:40,stone:70,color:50},{lv:50,score:0,starScore:24e3,time:150,stepNumber:0,boss:2,attack:[0,4.2,5],red:0,blue:0,green:0,sto:0,shield:50,boom:35,stone:80,color:50},{lv:51,score:0,starScore:26e3,time:0,stepNumber:35,boss:1,attack:[0,5],red:50,blue:50,green:50,sto:1,shield:50,boom:25,stone:35,color:50},{lv:52,score:24e3,starScore:26e3,time:0,stepNumber:30,boss:0,attack:[0],red:0,blue:0,green:40,sto:0,shield:50,boom:30,stone:50,color:60},{lv:53,score:24e3,starScore:26e3,time:0,stepNumber:30,boss:0,attack:[0],red:0,blue:35,green:30,sto:2,shield:50,boom:30,stone:40,color:60},{lv:54,score:24e3,starScore:26e3,time:0,stepNumber:30,boss:2,attack:[0,3.3,4.5],red:0,blue:0,green:0,sto:0,shield:50,boom:25,stone:80,color:50},{lv:55,score:0,starScore:26e3,time:130,stepNumber:0,boss:0,attack:[0],red:30,blue:30,green:30,sto:0,shield:50,boom:35,stone:70,color:60},{lv:56,score:0,starScore:24e3,time:0,stepNumber:30,boss:3,attack:[0,4,4,5],red:0,blue:35,green:35,sto:0,shield:50,boom:20,stone:70,color:50},{lv:57,score:26e3,starScore:26e3,time:0,stepNumber:30,boss:1,attack:[0,3],red:20,blue:0,green:30,sto:0,shield:50,boom:35,stone:65,color:65},{lv:58,score:0,starScore:26e3,time:0,stepNumber:30,boss:0,attack:[0],red:0,blue:0,green:0,sto:3,shield:50,boom:20,stone:35,color:50},{lv:59,score:26e3,starScore:28e3,time:0,stepNumber:30,boss:0,attack:[0],red:20,blue:20,green:0,sto:1,shield:50,boom:35,stone:50,color:50},{lv:60,score:24e3,starScore:26e3,time:180,stepNumber:0,boss:2,attack:[0,4,4],red:0,blue:0,green:0,sto:0,shield:50,boom:35,stone:80,color:50},{lv:61,score:0,starScore:28e3,time:0,stepNumber:30,boss:1,attack:[0,3],red:40,blue:40,green:40,sto:0,shield:50,boom:35,stone:70,color:50},{lv:62,score:28e3,starScore:28e3,time:0,stepNumber:35,boss:0,attack:[0],red:25,blue:20,green:30,sto:2,shield:50,boom:35,stone:40,color:50},{lv:63,score:0,starScore:3e4,time:0,stepNumber:30,boss:2,attack:[0,3.4,4.8],red:30,blue:30,green:0,sto:1,shield:50,boom:35,stone:50,color:50},{lv:64,score:0,starScore:28e3,time:0,stepNumber:35,boss:1,attack:[0,3.4],red:0,blue:0,green:0,sto:3,shield:50,boom:35,stone:35,color:50},{lv:65,score:0,starScore:28e3,time:130,stepNumber:0,boss:1,attack:[0,3],red:0,blue:0,green:0,sto:0,shield:50,boom:40,stone:70,color:50},{lv:66,score:0,starScore:3e4,time:0,stepNumber:25,boss:0,attack:[0],red:40,blue:40,green:0,sto:0,shield:50,boom:35,stone:70,color:50},{lv:67,score:28e3,starScore:3e4,time:0,stepNumber:30,boss:0,attack:[0],red:30,blue:30,green:30,sto:0,shield:50,boom:30,stone:60,color:50},{lv:68,score:0,starScore:26e3,time:0,stepNumber:25,boss:0,attack:[0],red:0,blue:0,green:0,sto:3,shield:50,boom:30,stone:30,color:50},{lv:69,score:0,starScore:3e4,time:0,stepNumber:30,boss:0,attack:[0],red:25,blue:30,green:10,sto:2,shield:50,boom:35,stone:40,color:50},{lv:70,score:0,starScore:28e3,time:130,stepNumber:0,boss:0,attack:[0],red:30,blue:20,green:20,sto:0,shield:50,boom:35,stone:60,color:50},{lv:71,score:0,starScore:28e3,time:0,stepNumber:35,boss:2,attack:[0,3,4],red:30,blue:0,green:30,sto:0,shield:50,boom:35,stone:70,color:50},{lv:72,score:3e4,starScore:32e3,time:0,stepNumber:30,boss:1,attack:[0,3],red:0,blue:0,green:0,sto:0,shield:50,boom:35,stone:70,color:50},{lv:73,score:3e4,starScore:34e3,time:0,stepNumber:30,boss:0,attack:[0],red:20,blue:20,green:20,sto:2,shield:50,boom:35,stone:40,color:50},{lv:74,score:0,starScore:3e4,time:0,stepNumber:35,boss:2,attack:[0,3.3,4],red:0,blue:40,green:0,sto:0,shield:50,boom:35,stone:70,color:50},{lv:75,score:0,starScore:26e3,time:130,stepNumber:0,boss:0,attack:[0],red:0,blue:40,green:40,sto:1,shield:50,boom:35,stone:40,color:50},{lv:76,score:32e3,starScore:32e3,time:0,stepNumber:35,boss:2,attack:[0,3,4],red:0,blue:0,green:0,sto:0,shield:50,boom:35,stone:70,color:50},{lv:77,score:3e4,starScore:32e3,time:0,stepNumber:35,boss:0,attack:[0],red:30,blue:0,green:30,sto:0,shield:40,boom:35,stone:70,color:40},{lv:78,score:0,starScore:3e4,time:0,stepNumber:35,boss:1,attack:[0,3],red:20,blue:0,green:0,sto:2,shield:50,boom:35,stone:35,color:50},{lv:79,score:0,starScore:28e3,time:150,stepNumber:0,boss:0,attack:[0],red:30,blue:30,green:30,sto:1,shield:50,boom:25,stone:50,color:40},{lv:80,score:36e3,starScore:4e4,time:0,stepNumber:40,boss:3,attack:[0,3,4,5],red:40,blue:40,green:40,sto:1,shield:40,boom:25,stone:60,color:40}],wl.propBonus=[{lv:1,p1:0,p2:0,p3:0},{lv:2,p1:0,p2:0,p3:0},{lv:3,p1:0,p2:0,p3:0},{lv:4,p1:0,p2:0,p3:0},{lv:5,p1:0,p2:0,p3:0},{lv:6,p1:0,p2:0,p3:0},{lv:7,p1:0,p2:0,p3:0},{lv:8,p1:0,p2:0,p3:0},{lv:9,p1:0,p2:0,p3:0},{lv:10,p1:0,p2:0,p3:0},{lv:11,p1:0,p2:0,p3:0},{lv:12,p1:0,p2:0,p3:0},{lv:13,p1:0,p2:0,p3:0},{lv:14,p1:0,p2:0,p3:0},{lv:15,p1:1,p2:0,p3:0},{lv:16,p1:1,p2:0,p3:0},{lv:17,p1:1,p2:0,p3:0},{lv:18,p1:1,p2:0,p3:0},{lv:19,p1:1,p2:0,p3:0},{lv:20,p1:1,p2:1,p3:0},{lv:21,p1:1,p2:1,p3:0},{lv:22,p1:1,p2:1,p3:0},{lv:23,p1:1,p2:1,p3:0},{lv:24,p1:1,p2:1,p3:0},{lv:25,p1:1,p2:1,p3:0},{lv:26,p1:1,p2:1,p3:0},{lv:27,p1:1,p2:1,p3:0},{lv:28,p1:1,p2:1,p3:0},{lv:29,p1:1,p2:1,p3:0},{lv:30,p1:1,p2:1,p3:0},{lv:31,p1:1,p2:1,p3:1},{lv:32,p1:1,p2:1,p3:1},{lv:33,p1:1,p2:1,p3:1},{lv:34,p1:1,p2:1,p3:1},{lv:35,p1:1,p2:1,p3:1},{lv:36,p1:1,p2:1,p3:1},{lv:37,p1:1,p2:1,p3:1},{lv:38,p1:1,p2:1,p3:1},{lv:39,p1:1,p2:1,p3:1},{lv:40,p1:1,p2:1,p3:1},{lv:41,p1:5,p2:3,p3:2},{lv:42,p1:2,p2:1,p3:1},{lv:43,p1:2,p2:1,p3:1},{lv:44,p1:2,p2:1,p3:1},{lv:45,p1:2,p2:1,p3:1},{lv:46,p1:2,p2:1,p3:1},{lv:47,p1:2,p2:1,p3:1},{lv:48,p1:2,p2:1,p3:1},{lv:49,p1:2,p2:1,p3:1},{lv:50,p1:2,p2:1,p3:1},{lv:51,p1:3,p2:2,p3:1},{lv:52,p1:3,p2:2,p3:1},{lv:53,p1:3,p2:2,p3:1},{lv:54,p1:3,p2:2,p3:1},{lv:55,p1:3,p2:2,p3:1},{lv:56,p1:3,p2:2,p3:1},{lv:57,p1:3,p2:2,p3:1},{lv:58,p1:3,p2:2,p3:1},{lv:59,p1:3,p2:2,p3:1},{lv:60,p1:4,p2:2,p3:2},{lv:61,p1:4,p2:2,p3:2},{lv:62,p1:4,p2:2,p3:2},{lv:63,p1:4,p2:2,p3:2},{lv:64,p1:4,p2:2,p3:2},{lv:65,p1:4,p2:2,p3:2},{lv:66,p1:4,p2:2,p3:2},{lv:67,p1:4,p2:2,p3:2},{lv:68,p1:4,p2:2,p3:2},{lv:69,p1:4,p2:2,p3:2},{lv:70,p1:4,p2:2,p3:2},{lv:71,p1:5,p2:5,p3:5},{lv:72,p1:5,p2:2,p3:2},{lv:73,p1:5,p2:2,p3:2},{lv:74,p1:5,p2:2,p3:2},{lv:75,p1:5,p2:2,p3:2},{lv:76,p1:6,p2:2,p3:2},{lv:77,p1:6,p2:2,p3:2},{lv:78,p1:6,p2:2,p3:2},{lv:79,p1:6,p2:2,p3:2},{lv:80,p1:6,p2:2,p3:2}],cc._RFpop()},{}],Win:[function(e,t,s){"use strict";cc._RFpush(t,"9d50b6d+xNLbr3v3dVrjZat","Win"),cc.Class({"extends":cc.Component,properties:{starArr:[cc.Node],light:cc.Node,laScore:cc.Label},onEnable:function(){sdk.showWindowAd()},init:function(){this.light.runAction(cc.rotateBy(.1,5).repeatForever());var e=[];e.push(cc.delayTime(.5));for(var t=0;t<wl.starNum;t++)e.push(cc.callFunc(function(){var e=arguments[1];e.active=!0,e.scale=1.5,e.runAction(cc.scaleTo(.5,1))},this,this.starArr[t])),e.push(cc.delayTime(.5));this.node.getChildByName("layer").getChildByName("UI_Win").runAction(cc.sequence(e)),audio.playEffect(audioType.addScore),this.score=0,this.schedule(this.updateFunc,.02)},updateFunc:function(e){this.score<wl.levelScore?(this.score+=100,this.laScore.string=this.score):this.unschedule(this.updateFunc)},btnCallNext:function(e){wl.setBtnCooling(e.target),audio.playEffect(audioType.click),wl.close(this.node),cc.director.loadScene("stage")},btnCallAgain:function(e){wl.setBtnCooling(e.target),audio.playEffect(audioType.click);var t=wl.getItemInt(wl.curLevel)-1;ls.setItem(wl.curLevel,t),cc.director.loadScene("game")}}),cc._RFpop()},{}]},{},["Audio","Buy","SceneBase","Load","Turret","Globals","Stage","Store","WL","SDK","Base","Win","Game","Start","Play","Fail","Candy"]);